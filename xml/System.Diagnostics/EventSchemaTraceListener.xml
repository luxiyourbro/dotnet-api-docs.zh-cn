<Type Name="EventSchemaTraceListener" FullName="System.Diagnostics.EventSchemaTraceListener">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="720787024950099ea3e976f70b42a4ede47d9caf" />
    <Meta Name="ms.sourcegitcommit" Value="434f60616a9793fa8436744549fc856e94f7a648" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-CN" />
    <Meta Name="ms.lasthandoff" Value="08/25/2018" />
    <Meta Name="ms.locfileid" Value="39923803" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class EventSchemaTraceListener : System.Diagnostics.TextWriterTraceListener" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit EventSchemaTraceListener extends System.Diagnostics.TextWriterTraceListener" />
  <TypeSignature Language="DocId" Value="T:System.Diagnostics.EventSchemaTraceListener" />
  <TypeSignature Language="VB.NET" Value="Public Class EventSchemaTraceListener&#xA;Inherits TextWriterTraceListener" />
  <TypeSignature Language="C++ CLI" Value="public ref class EventSchemaTraceListener : System::Diagnostics::TextWriterTraceListener" />
  <TypeSignature Language="F#" Value="type EventSchemaTraceListener = class&#xA;    inherit TextWriterTraceListener" />
  <AssemblyInfo>
    <AssemblyName>System.Core</AssemblyName>
    <AssemblyVersion>3.5.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Diagnostics.TextWriterTraceListener</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="46c09-101">将端对端事件的跟踪或调试输出定向到 XML 编码的符合架构的日志文件。</span>
      <span class="sxs-lookup">
        <span data-stu-id="46c09-101">Directs tracing or debugging output of end-to-end events to an XML-encoded, schema-compliant log file.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-102"><xref:System.Diagnostics.EventSchemaTraceListener>类提供了端到端符合架构的事件的跟踪。</span><span class="sxs-lookup"><span data-stu-id="46c09-102">The <xref:System.Diagnostics.EventSchemaTraceListener> class provides tracing of end-to-end schema-compliant events.</span></span> <span data-ttu-id="46c09-103">可以为具有可跨线程的系统使用端到端跟踪<xref:System.AppDomain>，进程和计算机边界。</span><span class="sxs-lookup"><span data-stu-id="46c09-103">You can use end-to-end tracing for a system that has heterogeneous components that cross thread, <xref:System.AppDomain>, process, and computer boundaries.</span></span> <span data-ttu-id="46c09-104">标准化的事件架构 (请参阅[Event Representation for Event Consumers](http://go.microsoft.com/fwlink/?LinkId=78955)) 被定义为跨越这些边界中启用跟踪。</span><span class="sxs-lookup"><span data-stu-id="46c09-104">A standardized event schema (see [Event Representation for Event Consumers](http://go.microsoft.com/fwlink/?LinkId=78955)) has been defined to enable tracing across these boundaries.</span></span> <span data-ttu-id="46c09-105">此外，该架构允许添加符合架构的自定义元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-105">The schema enables the addition of custom, schema-compliant elements.</span></span> <span data-ttu-id="46c09-106">可以使用[Service Trace Viewer Tool (SvcTraceViewer.exe)](http://go.microsoft.com/fwlink/p/?LinkId=240129)来显示事件数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-106">You can use the [Service Trace Viewer Tool (SvcTraceViewer.exe)](http://go.microsoft.com/fwlink/p/?LinkId=240129) to display the event data.</span></span>  
  
 <span data-ttu-id="46c09-107"><xref:System.Diagnostics.EventSchemaTraceListener> 具有隐式支持的无锁跟踪的日志记录性能优化。</span><span class="sxs-lookup"><span data-stu-id="46c09-107"><xref:System.Diagnostics.EventSchemaTraceListener> is tuned for logging performance with implicit support for lock-free tracing.</span></span>  
  
 <span data-ttu-id="46c09-108"><xref:System.Diagnostics.EventSchemaTraceListener>类将跟踪和调试信息的 XML 编码的文本流。</span><span class="sxs-lookup"><span data-stu-id="46c09-108">The <xref:System.Diagnostics.EventSchemaTraceListener> class converts tracing and debugging information into an XML-encoded text stream.</span></span> <span data-ttu-id="46c09-109">稍后在本部分中的表中显示的 XML 输出说明。</span><span class="sxs-lookup"><span data-stu-id="46c09-109">The description of the XML output is shown in the tables later in this section.</span></span>  
  
 <span data-ttu-id="46c09-110">可以启用或禁用<xref:System.Diagnostics.EventSchemaTraceListener>应用程序配置文件中，通过对象，然后使用已配置<xref:System.Diagnostics.EventSchemaTraceListener>在应用程序中的对象。</span><span class="sxs-lookup"><span data-stu-id="46c09-110">You can enable or disable an <xref:System.Diagnostics.EventSchemaTraceListener> object through the application configuration file, and then use the configured <xref:System.Diagnostics.EventSchemaTraceListener> object in your application.</span></span> <span data-ttu-id="46c09-111">另外，可以创建<xref:System.Diagnostics.EventSchemaTraceListener>在代码中的对象。</span><span class="sxs-lookup"><span data-stu-id="46c09-111">Alternately, you can create an <xref:System.Diagnostics.EventSchemaTraceListener> object in your code.</span></span> <span data-ttu-id="46c09-112">我们建议你通过应用程序配置文件启用跟踪侦听器。</span><span class="sxs-lookup"><span data-stu-id="46c09-112">We recommend that you enable trace listeners through the application configuration file.</span></span> <span data-ttu-id="46c09-113">有关使用跟踪和调试配置文件的信息，请参阅[跟踪和调试设置架构](http://msdn.microsoft.com/library/277ca5f6-e1c4-41b6-a47f-3a67ce5b94ac)。</span><span class="sxs-lookup"><span data-stu-id="46c09-113">For information about the use of configuration files for tracing and debugging, see [Trace and Debug Settings Schema](http://msdn.microsoft.com/library/277ca5f6-e1c4-41b6-a47f-3a67ce5b94ac).</span></span>  
  
 <span data-ttu-id="46c09-114">若要配置<xref:System.Diagnostics.EventSchemaTraceListener>对象，修改配置文件对应于你的应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="46c09-114">To configure an <xref:System.Diagnostics.EventSchemaTraceListener> object, modify the configuration file that corresponds to the name of your application.</span></span> <span data-ttu-id="46c09-115">在此文件中，可以添加、 删除或设置侦听器的属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-115">In this file, you can add, remove, or set the properties for a listener.</span></span> <span data-ttu-id="46c09-116">应按如下所示设置格式的配置文件：</span><span class="sxs-lookup"><span data-stu-id="46c09-116">The configuration file should be formatted as follows:</span></span>  
  
```xml  
<configuration>  
    <system.diagnostics>  
        <sources>  
            <source name="TestSource" >  
                <listeners>  
                    <!--Remove the default trace listener for better performance.-->  
                    <remove name="Default"/>  
                    <!--Note: Removing the default trace listener prevents the dialog box   
                    from being displayed for Debug.Fail or Debug.Assert commands that are   
                    executed in user mode.-->  
                    <add name="eventListener"   
                      type="System.Diagnostics.EventSchemaTraceListener,  system.core"  
                      initializeData="TraceOutput.xml"   
                      traceOutputOptions="ProcessId, DateTime, Timestamp"   
                      bufferSize="65536"  
                      maximumFileSize="20480000"  
                      logRetentionOption="LimitedCircularFiles"  
                      maximumNumberOfFiles="2"/>  
                </listeners>  
            </source>  
        </sources>  
    </system.diagnostics>  
```  
  
 <span data-ttu-id="46c09-117"><xref:System.Diagnostics.EventSchemaTraceListener>类继承<xref:System.Diagnostics.TraceListener.Filter%2A>属性从基类<xref:System.Diagnostics.TraceListener>。</span><span class="sxs-lookup"><span data-stu-id="46c09-117">The <xref:System.Diagnostics.EventSchemaTraceListener> class inherits the <xref:System.Diagnostics.TraceListener.Filter%2A> property from the base class <xref:System.Diagnostics.TraceListener>.</span></span> <span data-ttu-id="46c09-118"><xref:System.Diagnostics.TraceListener.Filter%2A>属性，可为另一级别的跟踪输出在侦听器的筛选。</span><span class="sxs-lookup"><span data-stu-id="46c09-118">The <xref:System.Diagnostics.TraceListener.Filter%2A> property allows for an additional level of trace output filtering at the listener.</span></span> <span data-ttu-id="46c09-119">如果存在，则筛选器`Trace`方法的跟踪侦听器调用<xref:System.Diagnostics.TraceFilter.ShouldTrace%2A>筛选器以确定是否发出跟踪的方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-119">If a filter is present, the `Trace` methods of the trace listener call the <xref:System.Diagnostics.TraceFilter.ShouldTrace%2A> method of the filter to determine whether to emit the trace.</span></span>  
  
 <span data-ttu-id="46c09-120">如果尝试写入的文件正在使用或不可用，GUID 后缀是自动添加到的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="46c09-120">If an attempt is made to write to a file that is being used or is unavailable, a GUID suffix is automatically added to the file name.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="46c09-121">侦听器方法旨在由方法调用<xref:System.Diagnostics.Debug>， <xref:System.Diagnostics.Trace>，和<xref:System.Diagnostics.TraceSource>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-121">Listener methods are intended to be called by methods of the <xref:System.Diagnostics.Debug>, <xref:System.Diagnostics.Trace>, and <xref:System.Diagnostics.TraceSource> classes.</span></span> <span data-ttu-id="46c09-122">不要直接从应用程序代码调用侦听器方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-122">Do not call the listener methods directly from application code.</span></span> <span data-ttu-id="46c09-123"><xref:System.Diagnostics.EventSchemaTraceListener>侦听器主要是以供<xref:System.Diagnostics.TraceSource>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-123">The <xref:System.Diagnostics.EventSchemaTraceListener> listener is primarily intended for use by the <xref:System.Diagnostics.TraceSource> class.</span></span>  
  
 <span data-ttu-id="46c09-124">下表介绍的元素和属性的 XML 输出。</span><span class="sxs-lookup"><span data-stu-id="46c09-124">The following table describes the elements and attributes of the XML output.</span></span>  
  
|<span data-ttu-id="46c09-125">元素</span><span class="sxs-lookup"><span data-stu-id="46c09-125">Element</span></span>|<span data-ttu-id="46c09-126">特性</span><span class="sxs-lookup"><span data-stu-id="46c09-126">Attributes</span></span>|<span data-ttu-id="46c09-127">Output</span><span class="sxs-lookup"><span data-stu-id="46c09-127">Output</span></span>|<span data-ttu-id="46c09-128">注释</span><span class="sxs-lookup"><span data-stu-id="46c09-128">Notes</span></span>|  
|-------------|----------------|------------|-----------|  
|`CallStack`|<span data-ttu-id="46c09-129">无</span><span class="sxs-lookup"><span data-stu-id="46c09-129">None</span></span>|<span data-ttu-id="46c09-130">取决于是否存在<xref:System.Diagnostics.TraceOptions.Callstack>标记中<xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-130">Depends on the presence of the <xref:System.Diagnostics.TraceOptions.Callstack> flag in the <xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A> property.</span></span>|<span data-ttu-id="46c09-131">特殊字符如 > 或 < 使用转义序列替换。</span><span class="sxs-lookup"><span data-stu-id="46c09-131">Special characters such as > or < are replaced with escape sequences.</span></span> <span data-ttu-id="46c09-132">请参阅下一步的表中的转义的字符转换表。</span><span class="sxs-lookup"><span data-stu-id="46c09-132">See the escaped character translation table in the next table.</span></span>|  
|`Computer`|<span data-ttu-id="46c09-133">无</span><span class="sxs-lookup"><span data-stu-id="46c09-133">None</span></span>|<span data-ttu-id="46c09-134">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-134">Always present.</span></span>|<span data-ttu-id="46c09-135">此元素表示的值的<xref:System.Environment.MachineName%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-135">This element represents the value of the <xref:System.Environment.MachineName%2A> property.</span></span>|  
|`Correlation`|`ActivityID`|<span data-ttu-id="46c09-136">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-136">Always present.</span></span>|<span data-ttu-id="46c09-137">如果`ActivityID`未指定，默认值为空 GUID。</span><span class="sxs-lookup"><span data-stu-id="46c09-137">If `ActivityID` is not specified, the default is an empty GUID.</span></span>|  
||`RelatedActivityID`|<span data-ttu-id="46c09-138">取决于是否存在`relatedActivityId`中的参数`Trace`方法调用。</span><span class="sxs-lookup"><span data-stu-id="46c09-138">Depends on the presence of the `relatedActivityId` parameter in the `Trace` method call.</span></span>|<span data-ttu-id="46c09-139">`RelatedActivityID`属性对应于`relatedActivityId`参数的<xref:System.Diagnostics.EventSchemaTraceListener.TraceTransfer%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-139">The `RelatedActivityID` attribute corresponds to the `relatedActivityId` parameter of the <xref:System.Diagnostics.EventSchemaTraceListener.TraceTransfer%2A> method.</span></span>|  
|`Data`|<span data-ttu-id="46c09-140">无</span><span class="sxs-lookup"><span data-stu-id="46c09-140">None</span></span>|<span data-ttu-id="46c09-141">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-141">Always present.</span></span>|<span data-ttu-id="46c09-142">此元素表示参数输入 (`data`)。</span><span class="sxs-lookup"><span data-stu-id="46c09-142">This element represents parameter input (`data`).</span></span> <span data-ttu-id="46c09-143">为每个数据对象提供一个元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-143">One element is provided for each data object.</span></span> <span data-ttu-id="46c09-144">在事件日志的情况下`Data`元素包含转义的 XML 数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-144">In the case of event logs, the `Data` element contains escaped XML data.</span></span> <span data-ttu-id="46c09-145">如果数据日志`Data`元素包含非转义的数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-145">In the case of data logs, the `Data` element contains unescaped data.</span></span> <span data-ttu-id="46c09-146">日志数据的输出使用`ToString`传入的数据对象的方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-146">The data log output uses the `ToString` method of the passed-in data objects.</span></span>|  
|`Event`|<span data-ttu-id="46c09-147">无</span><span class="sxs-lookup"><span data-stu-id="46c09-147">None</span></span>|<span data-ttu-id="46c09-148">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-148">Always present.</span></span>|<span data-ttu-id="46c09-149">此元素包含一个跟踪事件。</span><span class="sxs-lookup"><span data-stu-id="46c09-149">This element contains a trace event.</span></span>|  
|`EventData`|<span data-ttu-id="46c09-150">无</span><span class="sxs-lookup"><span data-stu-id="46c09-150">None</span></span>|<span data-ttu-id="46c09-151">存在事件日志。</span><span class="sxs-lookup"><span data-stu-id="46c09-151">Present for event logs.</span></span>|<span data-ttu-id="46c09-152">此元素表示参数输入 (`message`， `args`)。</span><span class="sxs-lookup"><span data-stu-id="46c09-152">This element represents parameter input (`message`, `args`).</span></span> <span data-ttu-id="46c09-153">它包含`Data`元素与通过调用创建的转义 XML 数据<xref:System.Diagnostics.EventSchemaTraceListener.TraceEvent%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-153">It contains `Data` elements with escaped XML data that is created by calling the <xref:System.Diagnostics.EventSchemaTraceListener.TraceEvent%2A> method.</span></span>|  
|`EventID`|<span data-ttu-id="46c09-154">无</span><span class="sxs-lookup"><span data-stu-id="46c09-154">None</span></span>|<span data-ttu-id="46c09-155">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-155">Always present.</span></span>|<span data-ttu-id="46c09-156">此元素表示参数输入 (`id`)。</span><span class="sxs-lookup"><span data-stu-id="46c09-156">This element represents parameter input (`id`).</span></span>|  
|`Execution`|`ProcessID`|<span data-ttu-id="46c09-157">取决于是否存在<xref:System.Diagnostics.TraceOptions.ProcessId>标记中<xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-157">Depends on the presence of the <xref:System.Diagnostics.TraceOptions.ProcessId> flag in the <xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A> property.</span></span>|<span data-ttu-id="46c09-158">`ProcessID`中指定属性<xref:System.Diagnostics.TraceEventCache>。</span><span class="sxs-lookup"><span data-stu-id="46c09-158">The `ProcessID` attribute is specified in the <xref:System.Diagnostics.TraceEventCache>.</span></span> <span data-ttu-id="46c09-159">在 Microsoft Windows 98 和 Windows 千禧年 Edition 操作系统中，如果`ProcessID`大于 2147483647，它是负数的正值表示形式并应将转换为获取正确的进程标识符。</span><span class="sxs-lookup"><span data-stu-id="46c09-159">On the Microsoft Windows 98 and Windows Millenium Edition operating systems, if `ProcessID` is larger than 2,147,483,647, it is a positive representation of a negative number and should be converted to obtain the correct process identifier.</span></span>|  
||`ThreadID`|<span data-ttu-id="46c09-160">当存在`ProcessID`存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-160">Present when `ProcessID` is present.</span></span>|<span data-ttu-id="46c09-161">`ThreadID`中指定属性<xref:System.Diagnostics.TraceEventCache>。</span><span class="sxs-lookup"><span data-stu-id="46c09-161">The `ThreadID` attribute is specified in the <xref:System.Diagnostics.TraceEventCache>.</span></span>|  
|`Level`|<span data-ttu-id="46c09-162">无</span><span class="sxs-lookup"><span data-stu-id="46c09-162">None</span></span>|<span data-ttu-id="46c09-163">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-163">Always present.</span></span>|<span data-ttu-id="46c09-164">此元素表示参数输入 (的数值`eventType`)。</span><span class="sxs-lookup"><span data-stu-id="46c09-164">This element represents parameter input (the numeric value of `eventType`).</span></span> <span data-ttu-id="46c09-165">参数大于 255 的值是输出为级别 8，它表示<xref:System.Diagnostics.TraceEventType.Information?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="46c09-165">Parameter values that are larger than 255 are output as a level 8, which represents <xref:System.Diagnostics.TraceEventType.Information?displayProperty=nameWithType>.</span></span> <span data-ttu-id="46c09-166">跟踪事件类型<xref:System.Diagnostics.TraceEventType.Critical>， <xref:System.Diagnostics.TraceEventType.Error>， <xref:System.Diagnostics.TraceEventType.Warning>， <xref:System.Diagnostics.TraceEventType.Information>，和<xref:System.Diagnostics.TraceEventType.Verbose>分别作为级别 1、 2、 4、 8 和 10 中，为输出。</span><span class="sxs-lookup"><span data-stu-id="46c09-166">Trace event types <xref:System.Diagnostics.TraceEventType.Critical>, <xref:System.Diagnostics.TraceEventType.Error>, <xref:System.Diagnostics.TraceEventType.Warning>, <xref:System.Diagnostics.TraceEventType.Information>, and <xref:System.Diagnostics.TraceEventType.Verbose> are output as levels 1, 2, 4, 8, and 10, respectively.</span></span>|  
|`LogicalOperationStack`|<span data-ttu-id="46c09-167">无</span><span class="sxs-lookup"><span data-stu-id="46c09-167">None</span></span>|<span data-ttu-id="46c09-168">取决于是否存在<xref:System.Diagnostics.TraceOptions.LogicalOperationStack>标记中<xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-168">Depends on the presence of the <xref:System.Diagnostics.TraceOptions.LogicalOperationStack> flag in the <xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A> property.</span></span>|<span data-ttu-id="46c09-169">只有一个逻辑操作可以存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-169">Only one logical operation can exist.</span></span> <span data-ttu-id="46c09-170">因此，作为写入值`LogicalOperation`节点下的`LogicalOperationStack`元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-170">Therefore, the values are written as `LogicalOperation` nodes under the `LogicalOperationStack` element.</span></span>|  
|`OpCode`|<span data-ttu-id="46c09-171">无</span><span class="sxs-lookup"><span data-stu-id="46c09-171">None</span></span>|<span data-ttu-id="46c09-172">当存在`Level`大于 255。</span><span class="sxs-lookup"><span data-stu-id="46c09-172">Present when `Level` is greater than 255.</span></span>|<span data-ttu-id="46c09-173">此元素表示跟踪事件类型具有大于 255 的数字值。</span><span class="sxs-lookup"><span data-stu-id="46c09-173">This element represents Trace event types that have numeric values greater than 255.</span></span> <span data-ttu-id="46c09-174"><xref:System.Diagnostics.TraceEventType.Start><xref:System.Diagnostics.TraceEventType.Stop>， <xref:System.Diagnostics.TraceEventType.Suspend>， <xref:System.Diagnostics.TraceEventType.Resume>，或<xref:System.Diagnostics.TraceEventType.Transfer>分别作为级别 1、 2、 4、 8 和 10 中，为输出。</span><span class="sxs-lookup"><span data-stu-id="46c09-174"><xref:System.Diagnostics.TraceEventType.Start>, <xref:System.Diagnostics.TraceEventType.Stop>, <xref:System.Diagnostics.TraceEventType.Suspend>, <xref:System.Diagnostics.TraceEventType.Resume>, or <xref:System.Diagnostics.TraceEventType.Transfer> are output as levels 1, 2, 4, 8, and 10, respectively.</span></span>|  
|`Provider`|`GUID`|<span data-ttu-id="46c09-175">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-175">Always present.</span></span>|<span data-ttu-id="46c09-176">始终为空。</span><span class="sxs-lookup"><span data-stu-id="46c09-176">Always empty.</span></span>|  
|`RenderingInfo`|`Culture`|<span data-ttu-id="46c09-177">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-177">Always present.</span></span>|<span data-ttu-id="46c09-178">此属性表示事件类型的资源字符串。</span><span class="sxs-lookup"><span data-stu-id="46c09-178">This attribute represents a resource string for the event type.</span></span> <span data-ttu-id="46c09-179">它始终是"en EN\\"。</span><span class="sxs-lookup"><span data-stu-id="46c09-179">It is always "en-EN\\".</span></span>|  
|`System`|`Name`|<span data-ttu-id="46c09-180">始终存在。</span><span class="sxs-lookup"><span data-stu-id="46c09-180">Always present.</span></span>||  
|`TimeCreated`|`SystemTime`|<span data-ttu-id="46c09-181">取决于是否存在<xref:System.Diagnostics.TraceOptions.DateTime>标记中<xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-181">Depends on the presence of the <xref:System.Diagnostics.TraceOptions.DateTime> flag in the <xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A> property.</span></span>|<span data-ttu-id="46c09-182">时间是的值<xref:System.Diagnostics.TraceEventCache.DateTime%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-182">The time is the value of the <xref:System.Diagnostics.TraceEventCache.DateTime%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="46c09-183">此属性表示为协调世界时</span><span class="sxs-lookup"><span data-stu-id="46c09-183">This property is expressed as Coordinated Universal Time</span></span>|  
|`TimeStamp`|<span data-ttu-id="46c09-184">无</span><span class="sxs-lookup"><span data-stu-id="46c09-184">None</span></span>|<span data-ttu-id="46c09-185">取决于是否存在<xref:System.Diagnostics.TraceOptions.Timestamp>标记中<xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-185">Depends on the presence of the <xref:System.Diagnostics.TraceOptions.Timestamp> flag in the <xref:System.Diagnostics.TraceListener.TraceOutputOptions%2A> property.</span></span>|<span data-ttu-id="46c09-186">此元素中指定<xref:System.Diagnostics.TraceEventCache>。</span><span class="sxs-lookup"><span data-stu-id="46c09-186">This element is specified in the <xref:System.Diagnostics.TraceEventCache>.</span></span>|  
|`UserData`|<span data-ttu-id="46c09-187">无</span><span class="sxs-lookup"><span data-stu-id="46c09-187">None</span></span>|<span data-ttu-id="46c09-188">存在数据日志。</span><span class="sxs-lookup"><span data-stu-id="46c09-188">Present for data logs.</span></span>|<span data-ttu-id="46c09-189">此元素包含`Data`元素与从非转义、 用户提供数据<xref:System.Diagnostics.EventSchemaTraceListener.TraceData%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-189">This element contains `Data` elements with unescaped, user-provided data from a <xref:System.Diagnostics.EventSchemaTraceListener.TraceData%2A> method.</span></span>|  
  
 <span data-ttu-id="46c09-190">下表显示 XML 输出中转义的字符。</span><span class="sxs-lookup"><span data-stu-id="46c09-190">The following table shows the characters that are escaped in the XML output.</span></span> <span data-ttu-id="46c09-191">转义发生在所有元素和特性除外`UserData`元素，它包含用户提供，进行非转义的数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-191">Escaping occurs in all the elements and attributes except for the `UserData` element, which contains user-provided, unescaped data.</span></span> <span data-ttu-id="46c09-192">`UserData`元素是对的调用结果<xref:System.Diagnostics.EventSchemaTraceListener.TraceData%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-192">The `UserData` element is a result of calls to the <xref:System.Diagnostics.EventSchemaTraceListener.TraceData%2A> method.</span></span>  
  
|<span data-ttu-id="46c09-193">转义字符</span><span class="sxs-lookup"><span data-stu-id="46c09-193">Escaped character</span></span>|<span data-ttu-id="46c09-194">值</span><span class="sxs-lookup"><span data-stu-id="46c09-194">Value</span></span>|  
|-----------------------|-----------|  
|&|&amp;|  
|\<|&lt;|  
|>|&gt;|  
|<span data-ttu-id="46c09-195">"</span><span class="sxs-lookup"><span data-stu-id="46c09-195">"</span></span>|&quot;|  
|\|&apos;|  
|<span data-ttu-id="46c09-196">0xD</span><span class="sxs-lookup"><span data-stu-id="46c09-196">0xD</span></span>|<span data-ttu-id="46c09-197">&\#xD;</span><span class="sxs-lookup"><span data-stu-id="46c09-197">&\#xD;</span></span>|  
|<span data-ttu-id="46c09-198">0xA</span><span class="sxs-lookup"><span data-stu-id="46c09-198">0xA</span></span>|<span data-ttu-id="46c09-199">&\#xA;</span><span class="sxs-lookup"><span data-stu-id="46c09-199">&\#xA;</span></span>|  
  
   
  
## Examples  
 <span data-ttu-id="46c09-200">下面的代码示例演示如何使用<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-200">The following code example demonstrates how to use the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span>  
  
 [!code-cpp[System.Diagnostics.EventSchemaTraceListener#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/CPP/eventschematracelistener.cpp#1)]
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/cs/program.cs#1)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/vb/program.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-201">初始化 <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-201">Initializes a new instance of the <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> class.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public EventSchemaTraceListener (string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (fileName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; EventSchemaTraceListener(System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.EventSchemaTraceListener : string -&gt; System.Diagnostics.EventSchemaTraceListener" Usage="new System.Diagnostics.EventSchemaTraceListener fileName" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="fileName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="fileName">
          <span data-ttu-id="46c09-202">日志文件的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-202">The path for the log file.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-203">通过将指定文件用作调试和跟踪输出的接收方来初始化 <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-203">Initializes a new instance of the <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> class, using the specified file as the recipient of debugging and tracing output.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-204">默认情况下，记录不受限制的大小的一个文件。</span><span class="sxs-lookup"><span data-stu-id="46c09-204">By default, one file of unrestricted size is logged.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="46c09-205">下面的代码示例演示如何使用<xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="46c09-205">The following code example demonstrates how to use the <xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%29?displayProperty=nameWithType> constructor.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener.Ctors#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/CS/program.cs#1)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener.Ctors#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/VB/program.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public EventSchemaTraceListener (string fileName, string name);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string fileName, string name) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.#ctor(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (fileName As String, name As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; EventSchemaTraceListener(System::String ^ fileName, System::String ^ name);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.EventSchemaTraceListener : string * string -&gt; System.Diagnostics.EventSchemaTraceListener" Usage="new System.Diagnostics.EventSchemaTraceListener (fileName, name)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="fileName" Type="System.String" />
        <Parameter Name="name" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="fileName">
          <span data-ttu-id="46c09-206">日志文件的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-206">The path for the log file.</span>
          </span>
        </param>
        <param name="name">
          <span data-ttu-id="46c09-207">侦听器名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-207">The name of the listener.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-208">通过将指定文件用作调试和跟踪输出的接收方，来初始化具有指定名称的 <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-208">Initializes a new instance of the <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> class with the specified name, using the specified file as the recipient of debugging and tracing output.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="46c09-209">下面的代码示例演示如何使用<xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="46c09-209">The following code example demonstrates how to use the <xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%29?displayProperty=nameWithType> constructor.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener.Ctors#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/CS/program.cs#2)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener.Ctors#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/VB/program.vb#2)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public EventSchemaTraceListener (string fileName, string name, int bufferSize);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string fileName, string name, int32 bufferSize) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.#ctor(System.String,System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (fileName As String, name As String, bufferSize As Integer)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; EventSchemaTraceListener(System::String ^ fileName, System::String ^ name, int bufferSize);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.EventSchemaTraceListener : string * string * int -&gt; System.Diagnostics.EventSchemaTraceListener" Usage="new System.Diagnostics.EventSchemaTraceListener (fileName, name, bufferSize)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="fileName" Type="System.String" />
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="bufferSize" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="fileName">
          <span data-ttu-id="46c09-210">日志文件的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-210">The path for the log file.</span>
          </span>
        </param>
        <param name="name">
          <span data-ttu-id="46c09-211">侦听器名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-211">The name of the listener.</span>
          </span>
        </param>
        <param name="bufferSize">
          <span data-ttu-id="46c09-212">输出缓冲区的大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-212">The size of the output buffer, in bytes.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-213">通过将指定文件用作调试和跟踪输出的接收方，来初始化具有指定名称和指定缓冲区大小的 <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-213">Initializes a new instance of the <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> class with the specified name and specified buffer size, using the specified file as the recipient of debugging and tracing output.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-214">出于性能考虑，`bufferSize`应是 1024 个字节的倍数。</span><span class="sxs-lookup"><span data-stu-id="46c09-214">For performance considerations, `bufferSize` should be a multiple of 1024 bytes.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="46c09-215">下面的代码示例演示如何使用<xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="46c09-215">The following code example demonstrates how to use the <xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%29?displayProperty=nameWithType> constructor.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener.Ctors#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/CS/program.cs#3)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener.Ctors#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/VB/program.vb#3)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public EventSchemaTraceListener (string fileName, string name, int bufferSize, System.Diagnostics.TraceLogRetentionOption logRetentionOption);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string fileName, string name, int32 bufferSize, valuetype System.Diagnostics.TraceLogRetentionOption logRetentionOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.#ctor(System.String,System.String,System.Int32,System.Diagnostics.TraceLogRetentionOption)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (fileName As String, name As String, bufferSize As Integer, logRetentionOption As TraceLogRetentionOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; EventSchemaTraceListener(System::String ^ fileName, System::String ^ name, int bufferSize, System::Diagnostics::TraceLogRetentionOption logRetentionOption);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.EventSchemaTraceListener : string * string * int * System.Diagnostics.TraceLogRetentionOption -&gt; System.Diagnostics.EventSchemaTraceListener" Usage="new System.Diagnostics.EventSchemaTraceListener (fileName, name, bufferSize, logRetentionOption)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="fileName" Type="System.String" />
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="bufferSize" Type="System.Int32" />
        <Parameter Name="logRetentionOption" Type="System.Diagnostics.TraceLogRetentionOption" />
      </Parameters>
      <Docs>
        <param name="fileName">
          <span data-ttu-id="46c09-216">日志文件的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-216">The path for the log file.</span>
          </span>
        </param>
        <param name="name">
          <span data-ttu-id="46c09-217">侦听器名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-217">The name of the listener.</span>
          </span>
        </param>
        <param name="bufferSize">
          <span data-ttu-id="46c09-218">输出缓冲区的大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-218">The size of the output buffer, in bytes.</span>
          </span>
        </param>
        <param name="logRetentionOption">
          <span data-ttu-id="46c09-219">
            <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-219">One of the <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> values.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-220">通过将具有指定日志保留策略的指定文件用作调试和跟踪输出的接收方，来初始化具有指定名称和指定缓冲区大小的 <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-220">Initializes a new instance of the <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> class with the specified name and specified buffer size, using the specified file with the specified log retention policy as the recipient of the debugging and tracing output.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-221">出于性能考虑，`bufferSize`应是 1024 个字节的倍数。</span><span class="sxs-lookup"><span data-stu-id="46c09-221">For performance considerations, `bufferSize` should be a multiple of 1024 bytes.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="46c09-222">下面的代码示例演示如何使用<xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%2CSystem.Diagnostics.TraceLogRetentionOption%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="46c09-222">The following code example demonstrates how to use the <xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%2CSystem.Diagnostics.TraceLogRetentionOption%29?displayProperty=nameWithType> constructor.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener.Ctors#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/CS/program.cs#4)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener.Ctors#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/VB/program.vb#4)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public EventSchemaTraceListener (string fileName, string name, int bufferSize, System.Diagnostics.TraceLogRetentionOption logRetentionOption, long maximumFileSize);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string fileName, string name, int32 bufferSize, valuetype System.Diagnostics.TraceLogRetentionOption logRetentionOption, int64 maximumFileSize) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.#ctor(System.String,System.String,System.Int32,System.Diagnostics.TraceLogRetentionOption,System.Int64)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (fileName As String, name As String, bufferSize As Integer, logRetentionOption As TraceLogRetentionOption, maximumFileSize As Long)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; EventSchemaTraceListener(System::String ^ fileName, System::String ^ name, int bufferSize, System::Diagnostics::TraceLogRetentionOption logRetentionOption, long maximumFileSize);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.EventSchemaTraceListener : string * string * int * System.Diagnostics.TraceLogRetentionOption * int64 -&gt; System.Diagnostics.EventSchemaTraceListener" Usage="new System.Diagnostics.EventSchemaTraceListener (fileName, name, bufferSize, logRetentionOption, maximumFileSize)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="fileName" Type="System.String" />
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="bufferSize" Type="System.Int32" />
        <Parameter Name="logRetentionOption" Type="System.Diagnostics.TraceLogRetentionOption" />
        <Parameter Name="maximumFileSize" Type="System.Int64" />
      </Parameters>
      <Docs>
        <param name="fileName">
          <span data-ttu-id="46c09-223">日志文件的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-223">The path for the log file.</span>
          </span>
        </param>
        <param name="name">
          <span data-ttu-id="46c09-224">侦听器名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-224">The name of the listener.</span>
          </span>
        </param>
        <param name="bufferSize">
          <span data-ttu-id="46c09-225">输出缓冲区的大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-225">The size of the output buffer, in bytes.</span>
          </span>
        </param>
        <param name="logRetentionOption">
          <span data-ttu-id="46c09-226">
            <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-226">One of the <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> values.</span>
          </span>
        </param>
        <param name="maximumFileSize">
          <span data-ttu-id="46c09-227">最大文件大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-227">The maximum file size, in bytes.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-228">通过将具有指定日志保留策略和最大大小的指定文件用作调试和跟踪输出的接收方，来初始化具有指定名称和缓冲区大小的 <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-228">Initializes a new instance of the <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> class with the specified name and specified buffer size, using the specified file with the specified log retention policy and maximum size as the recipient of the debugging and tracing output.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-229">有关性能注意事项`bufferSize`和`maximumFileSize`应为 1024 个字节的倍数。</span><span class="sxs-lookup"><span data-stu-id="46c09-229">For performance considerations, `bufferSize` and `maximumFileSize` should be multiples of 1024 bytes.</span></span> <span data-ttu-id="46c09-230">`maximumFileSize` 不是一个绝对值，它是一个阈值，它可能会被超出最大大小的最后一条消息。</span><span class="sxs-lookup"><span data-stu-id="46c09-230">`maximumFileSize` is not an absolute value, it is a threshold which can be exceeded up to the size of the last message.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="46c09-231">下面的代码示例演示如何使用<xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%2CSystem.Diagnostics.TraceLogRetentionOption%2CSystem.Int64%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="46c09-231">The following code example demonstrates how to use the <xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%28System.String%2CSystem.String%2CSystem.Int32%2CSystem.Diagnostics.TraceLogRetentionOption%2CSystem.Int64%29?displayProperty=nameWithType> constructor.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener.Ctors#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/CS/program.cs#5)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener.Ctors#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener.Ctors/VB/program.vb#5)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentOutOfRangeException">
          <span data-ttu-id="46c09-232">
            <paramref name="maximumFileSize" /> 是一个负数。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-232">
              <paramref name="maximumFileSize" /> is a negative number.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public EventSchemaTraceListener (string fileName, string name, int bufferSize, System.Diagnostics.TraceLogRetentionOption logRetentionOption, long maximumFileSize, int maximumNumberOfFiles);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string fileName, string name, int32 bufferSize, valuetype System.Diagnostics.TraceLogRetentionOption logRetentionOption, int64 maximumFileSize, int32 maximumNumberOfFiles) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.#ctor(System.String,System.String,System.Int32,System.Diagnostics.TraceLogRetentionOption,System.Int64,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (fileName As String, name As String, bufferSize As Integer, logRetentionOption As TraceLogRetentionOption, maximumFileSize As Long, maximumNumberOfFiles As Integer)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; EventSchemaTraceListener(System::String ^ fileName, System::String ^ name, int bufferSize, System::Diagnostics::TraceLogRetentionOption logRetentionOption, long maximumFileSize, int maximumNumberOfFiles);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.EventSchemaTraceListener : string * string * int * System.Diagnostics.TraceLogRetentionOption * int64 * int -&gt; System.Diagnostics.EventSchemaTraceListener" Usage="new System.Diagnostics.EventSchemaTraceListener (fileName, name, bufferSize, logRetentionOption, maximumFileSize, maximumNumberOfFiles)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="fileName" Type="System.String" />
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="bufferSize" Type="System.Int32" />
        <Parameter Name="logRetentionOption" Type="System.Diagnostics.TraceLogRetentionOption" />
        <Parameter Name="maximumFileSize" Type="System.Int64" />
        <Parameter Name="maximumNumberOfFiles" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="fileName">
          <span data-ttu-id="46c09-233">日志文件的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-233">The path for the log file.</span>
          </span>
        </param>
        <param name="name">
          <span data-ttu-id="46c09-234">侦听器名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-234">The name of the listener.</span>
          </span>
        </param>
        <param name="bufferSize">
          <span data-ttu-id="46c09-235">输出缓冲区的大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-235">The size of the output buffer, in bytes.</span>
          </span>
        </param>
        <param name="logRetentionOption">
          <span data-ttu-id="46c09-236">
            <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-236">One of the <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> values.</span>
          </span>
        </param>
        <param name="maximumFileSize">
          <span data-ttu-id="46c09-237">最大文件大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-237">The maximum file size, in bytes.</span>
          </span>
        </param>
        <param name="maximumNumberOfFiles">
          <span data-ttu-id="46c09-238">输出日志文件的最大数。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-238">The maximum number of output log files.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-239">通过将具有指定日志保留策略、最大大小和文件计数的指定文件用作调试和跟踪输出的接收方，来初始化具有指定名称和指定缓冲区大小的 <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-239">Initializes a new instance of the <see cref="T:System.Diagnostics.EventSchemaTraceListener" /> class with the specified name and specified buffer size, using the specified file with the specified log retention policy, maximum size, and file count as the recipient of the debugging and tracing output.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-240">有关性能注意事项`bufferSize`和`maximumFileSize`应为 1024 个字节的倍数。</span><span class="sxs-lookup"><span data-stu-id="46c09-240">For performance considerations, `bufferSize` and `maximumFileSize` should be multiples of 1024 bytes.</span></span> <span data-ttu-id="46c09-241">`maximumFileSize` 不是一个绝对值;它是一个阈值，可能会被超出最大大小的最后一条消息。</span><span class="sxs-lookup"><span data-stu-id="46c09-241">`maximumFileSize` is not an absolute value; it is a threshold that can be exceeded up to the size of the last message.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="46c09-242">下面的代码示例演示如何使用<xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%2A>构造函数。</span><span class="sxs-lookup"><span data-stu-id="46c09-242">The following code example demonstrates how to use the <xref:System.Diagnostics.EventSchemaTraceListener.%23ctor%2A> constructor.</span></span> <span data-ttu-id="46c09-243">此代码示例是为提供一个更大示例的一部分<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-243">This code example is part of a larger example that is provided for the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/cs/program.cs#2)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/vb/program.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentOutOfRangeException">
          <span data-ttu-id="46c09-244">
            <paramref name="maximumNumberOfFiles" /> 小于 2，<paramref name="logRetentionOption" /> 为 <see cref="F:System.Diagnostics.TraceLogRetentionOption.LimitedCircularFiles" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-244">
              <paramref name="maximumNumberOfFiles" /> is less than 2, and <paramref name="logRetentionOption" /> is <see cref="F:System.Diagnostics.TraceLogRetentionOption.LimitedCircularFiles" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="BufferSize">
      <MemberSignature Language="C#" Value="public int BufferSize { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 BufferSize" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.EventSchemaTraceListener.BufferSize" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property BufferSize As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int BufferSize { int get(); };" />
      <MemberSignature Language="F#" Value="member this.BufferSize : int" Usage="System.Diagnostics.EventSchemaTraceListener.BufferSize" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-245">获取输出缓冲区的大小。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-245">Gets the size of the output buffer.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="46c09-246">输出缓冲区的大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-246">The size of the output buffer, in bytes.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-247">设置属性值`bufferSize`构造函数中的参数。</span><span class="sxs-lookup"><span data-stu-id="46c09-247">The property value is set by the `bufferSize` parameter in the constructor.</span></span> <span data-ttu-id="46c09-248">出于性能原因，缓冲区大小应设置为 1024 字节的倍数。</span><span class="sxs-lookup"><span data-stu-id="46c09-248">For performance reasons, the buffer size should be set to a multiple of 1024 bytes.</span></span> <span data-ttu-id="46c09-249">我们建议 32 * 1024 字节的默认大小，或者 64\*1024 个字节，为了获得最佳性能。</span><span class="sxs-lookup"><span data-stu-id="46c09-249">We recommend either the default size of 32*1024 bytes or 64\*1024 bytes for best performance.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="46c09-250">下面的代码示例演示如何显示的值<xref:System.Diagnostics.EventSchemaTraceListener.BufferSize%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-250">The following code example demonstrates how to display the value of the <xref:System.Diagnostics.EventSchemaTraceListener.BufferSize%2A> property.</span></span> <span data-ttu-id="46c09-251">此代码示例是为提供一个更大示例的一部分<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-251">This code example is part of a larger example that is provided for the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/cs/program.cs#5)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/vb/program.vb#5)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Close">
      <MemberSignature Language="C#" Value="public override void Close ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Close() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.Close" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Close ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Close();" />
      <MemberSignature Language="F#" Value="abstract member Close : unit -&gt; unit&#xA;override this.Close : unit -&gt; unit" Usage="eventSchemaTraceListener.Close " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="46c09-252">关闭该侦听器的日志文件，以使其不再接收跟踪或调试输出。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-252">Closes the log file for this listener so that it no longer receives tracing or debugging output.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Fail">
      <MemberSignature Language="C#" Value="public override void Fail (string message, string detailMessage);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Fail(string message, string detailMessage) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.Fail(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Fail (message As String, detailMessage As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Fail(System::String ^ message, System::String ^ detailMessage);" />
      <MemberSignature Language="F#" Value="abstract member Fail : string * string -&gt; unit&#xA;override this.Fail : string * string -&gt; unit" Usage="eventSchemaTraceListener.Fail (message, detailMessage)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.String" />
        <Parameter Name="detailMessage" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="46c09-253">要写入的基本错误消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-253">The basic error message to write.</span>
          </span>
        </param>
        <param name="detailMessage">
          <span data-ttu-id="46c09-254">要追加到基本错误消息中的详细错误消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-254">The detailed error message to append to the basic error message.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-255">将包含基本错误消息和详细错误消息的错误信息写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-255">Writes error information, including a basic error message and a detailed error message, to the log file.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Flush">
      <MemberSignature Language="C#" Value="public override void Flush ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Flush() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.Flush" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Flush ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Flush();" />
      <MemberSignature Language="F#" Value="abstract member Flush : unit -&gt; unit&#xA;override this.Flush : unit -&gt; unit" Usage="eventSchemaTraceListener.Flush " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2">
          <AttributeName>System.Security.SecurityCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="46c09-256">导致缓冲数据写入该侦听器的日志。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-256">Causes buffered data to be written to the log for this listener.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="GetSupportedAttributes">
      <MemberSignature Language="C#" Value="protected override string[] GetSupportedAttributes ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance string[] GetSupportedAttributes() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.GetSupportedAttributes" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Function GetSupportedAttributes () As String()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override cli::array &lt;System::String ^&gt; ^ GetSupportedAttributes();" />
      <MemberSignature Language="F#" Value="abstract member GetSupportedAttributes : unit -&gt; string[]&#xA;override this.GetSupportedAttributes : unit -&gt; string[]" Usage="eventSchemaTraceListener.GetSupportedAttributes " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="46c09-257">获取跟踪侦听器支持的自定义 XML 配置特性。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-257">Gets the custom XML configuration attributes that the trace listener supports.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="46c09-258">一个 <see cref="T:System.String" /> 数组，其中包含此侦听器可识别的 XML 配置特性。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-258">A <see cref="T:System.String" /> array that contains the XML configuration attributes recognized by this listener.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-259">可以在 XML 配置文件中使用此方法返回的自定义特性来控制行为的实例<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-259">The custom attributes that are returned by this method can be used in the XML configuration file to control the behavior of an instance of the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span> <span data-ttu-id="46c09-260">使用任何其他属性会导致配置异常。</span><span class="sxs-lookup"><span data-stu-id="46c09-260">Using any other attribute causes a configuration exception.</span></span> <span data-ttu-id="46c09-261"><xref:System.Diagnostics.EventSchemaTraceListener.GetSupportedAttributes%2A>方法<xref:System.Diagnostics.EventSchemaTraceListener>返回数组值的以下字符串:"bufferSize"，"logRetentionOption"，"maximumFileSize"和"maximumNumberOfFiles"。</span><span class="sxs-lookup"><span data-stu-id="46c09-261">The <xref:System.Diagnostics.EventSchemaTraceListener.GetSupportedAttributes%2A> method for the <xref:System.Diagnostics.EventSchemaTraceListener> returns the following string array values: "bufferSize", "logRetentionOption", "maximumFileSize", and "maximumNumberOfFiles".</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="IsThreadSafe">
      <MemberSignature Language="C#" Value="public override bool IsThreadSafe { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsThreadSafe" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.EventSchemaTraceListener.IsThreadSafe" />
      <MemberSignature Language="VB.NET" Value="Public Overrides ReadOnly Property IsThreadSafe As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property bool IsThreadSafe { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.IsThreadSafe : bool" Usage="System.Diagnostics.EventSchemaTraceListener.IsThreadSafe" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-262">获取一个值，该值指示跟踪侦听器是否是线程安全的。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-262">Gets a value indicating whether the trace listener is thread safe.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="46c09-263">始终返回 <see langword="true" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-263">Always returns <see langword="true" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="46c09-264">下面的代码示例演示如何显示的值<xref:System.Diagnostics.EventSchemaTraceListener.IsThreadSafe%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-264">The following code example demonstrates how to display the value of the <xref:System.Diagnostics.EventSchemaTraceListener.IsThreadSafe%2A> property.</span></span> <span data-ttu-id="46c09-265">此代码示例是为提供一个更大示例的一部分<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-265">This code example is part of a larger example that is provided for the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/cs/program.cs#4)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/vb/program.vb#4)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MaximumFileSize">
      <MemberSignature Language="C#" Value="public long MaximumFileSize { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int64 MaximumFileSize" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.EventSchemaTraceListener.MaximumFileSize" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property MaximumFileSize As Long" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property long MaximumFileSize { long get(); };" />
      <MemberSignature Language="F#" Value="member this.MaximumFileSize : int64" Usage="System.Diagnostics.EventSchemaTraceListener.MaximumFileSize" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int64</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-266">获取日志文件的最大大小。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-266">Gets the maximum size of the log file.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="46c09-267">最大文件大小（以字节为单位）。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-267">The maximum file size, in bytes.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-268">设置属性值`maximumFileSize`构造函数中的参数或`maximumFileSize`配置文件中的属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-268">The property value is set by the `maximumFileSize` parameter in the constructor or the `maximumFileSize` attribute in the configuration file.</span></span> <span data-ttu-id="46c09-269">出于性能原因，您应设置最大文件大小为 1024 字节的倍数。</span><span class="sxs-lookup"><span data-stu-id="46c09-269">For performance reasons, you should set the maximum file size to a multiple of 1024 bytes.</span></span> <span data-ttu-id="46c09-270"><xref:System.Diagnostics.EventSchemaTraceListener.MaximumFileSize%2A>属性值不是绝对; 它是一个阈值，可能会被超出最大大小的最后一条消息。</span><span class="sxs-lookup"><span data-stu-id="46c09-270">The <xref:System.Diagnostics.EventSchemaTraceListener.MaximumFileSize%2A> property value is not an absolute; it is a threshold that can be exceeded up to the size of the last message.</span></span>  
  
 <span data-ttu-id="46c09-271">下表显示了文件大小与每个跟踪日志保留选项相关联的可能的和默认值。</span><span class="sxs-lookup"><span data-stu-id="46c09-271">The following table shows the possible and default values for file size that are associated with each trace log retention option.</span></span> <span data-ttu-id="46c09-272">标记为不适用的值，指示<xref:System.Diagnostics.EventSchemaTraceListener.MaximumFileSize%2A>属性不会检查为此，<xref:System.Diagnostics.TraceLogRetentionOption>值。</span><span class="sxs-lookup"><span data-stu-id="46c09-272">The values marked as N/A indicate that the <xref:System.Diagnostics.EventSchemaTraceListener.MaximumFileSize%2A> property is not checked for that <xref:System.Diagnostics.TraceLogRetentionOption> value.</span></span>  
  
|<span data-ttu-id="46c09-273">TraceLogRetentionOption</span><span class="sxs-lookup"><span data-stu-id="46c09-273">TraceLogRetentionOption</span></span>|<span data-ttu-id="46c09-274">最大文件大小</span><span class="sxs-lookup"><span data-stu-id="46c09-274">Maximum file size</span></span>|<span data-ttu-id="46c09-275">默认文件大小</span><span class="sxs-lookup"><span data-stu-id="46c09-275">Default file size</span></span>|  
|-----------------------------|-----------------------|-----------------------|  
|<xref:System.Diagnostics.TraceLogRetentionOption.LimitedCircularFiles>|<span data-ttu-id="46c09-276">不可用</span><span class="sxs-lookup"><span data-stu-id="46c09-276">N/A</span></span>|<span data-ttu-id="46c09-277">-1</span><span class="sxs-lookup"><span data-stu-id="46c09-277">-1</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.LimitedSequentialFiles>|<span data-ttu-id="46c09-278">>0</span><span class="sxs-lookup"><span data-stu-id="46c09-278">>0</span></span>|<span data-ttu-id="46c09-279">4 KB</span><span class="sxs-lookup"><span data-stu-id="46c09-279">4 KB</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.SingleFileBoundedSize>|<span data-ttu-id="46c09-280">>0</span><span class="sxs-lookup"><span data-stu-id="46c09-280">>0</span></span>|<span data-ttu-id="46c09-281">4 KB</span><span class="sxs-lookup"><span data-stu-id="46c09-281">4 KB</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.SingleFileUnboundedSize>|<span data-ttu-id="46c09-282">>0</span><span class="sxs-lookup"><span data-stu-id="46c09-282">>0</span></span>|<span data-ttu-id="46c09-283">4 KB</span><span class="sxs-lookup"><span data-stu-id="46c09-283">4 KB</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.UnlimitedSequentialFiles>|<span data-ttu-id="46c09-284">>0</span><span class="sxs-lookup"><span data-stu-id="46c09-284">>0</span></span>|<span data-ttu-id="46c09-285">4 KB</span><span class="sxs-lookup"><span data-stu-id="46c09-285">4 KB</span></span>|  
  
   
  
## Examples  
 <span data-ttu-id="46c09-286">下面的代码示例演示如何显示的值<xref:System.Diagnostics.EventSchemaTraceListener.MaximumFileSize%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-286">The following code example demonstrates how to display the value of the <xref:System.Diagnostics.EventSchemaTraceListener.MaximumFileSize%2A> property.</span></span> <span data-ttu-id="46c09-287">此代码示例是为提供一个更大示例的一部分<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-287">This code example is part of a larger example that is provided for the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/cs/program.cs#6)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/vb/program.vb#6)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MaximumNumberOfFiles">
      <MemberSignature Language="C#" Value="public int MaximumNumberOfFiles { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 MaximumNumberOfFiles" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.EventSchemaTraceListener.MaximumNumberOfFiles" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property MaximumNumberOfFiles As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int MaximumNumberOfFiles { int get(); };" />
      <MemberSignature Language="F#" Value="member this.MaximumNumberOfFiles : int" Usage="System.Diagnostics.EventSchemaTraceListener.MaximumNumberOfFiles" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-288">获取日志文件最大数。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-288">Gets the maximum number of log files.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="46c09-289">日志文件最大数是由文件的 <see cref="P:System.Diagnostics.EventSchemaTraceListener.TraceLogRetentionOption" /> 属性的值来确定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-289">The maximum number of log files, determined by the value of the <see cref="P:System.Diagnostics.EventSchemaTraceListener.TraceLogRetentionOption" /> property for the file.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-290">设置属性值`maximumNumberOfFiles`构造函数中的参数或`maximumNumberOfFiles`配置文件中的属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-290">The property value is set by the `maximumNumberOfFiles` parameter in the constructor or the `maximumNumberOfFiles` attribute in the configuration file.</span></span>  
  
 <span data-ttu-id="46c09-291">下表显示文件大小和文件计数与每个跟踪日志保留选项相关联的可能和默认的值。</span><span class="sxs-lookup"><span data-stu-id="46c09-291">The following table shows the possible and default values for file size and file count that are associated with each trace log retention option.</span></span> <span data-ttu-id="46c09-292">标记为不适用的值，指示<xref:System.Diagnostics.EventSchemaTraceListener.MaximumNumberOfFiles%2A>属性不会检查为此，<xref:System.Diagnostics.TraceLogRetentionOption>值。</span><span class="sxs-lookup"><span data-stu-id="46c09-292">The values marked as N/A indicate that the <xref:System.Diagnostics.EventSchemaTraceListener.MaximumNumberOfFiles%2A> property is not checked for that <xref:System.Diagnostics.TraceLogRetentionOption> value.</span></span>  
  
|<span data-ttu-id="46c09-293">TraceLogRetentionOption</span><span class="sxs-lookup"><span data-stu-id="46c09-293">TraceLogRetentionOption</span></span>|<span data-ttu-id="46c09-294">最大文件数</span><span class="sxs-lookup"><span data-stu-id="46c09-294">Maximum number of files</span></span>|<span data-ttu-id="46c09-295">文件默认数量</span><span class="sxs-lookup"><span data-stu-id="46c09-295">Default number of files</span></span>|  
|-----------------------------|-----------------------------|-----------------------------|  
|<xref:System.Diagnostics.TraceLogRetentionOption.LimitedCircularFiles>|<span data-ttu-id="46c09-296">不可用</span><span class="sxs-lookup"><span data-stu-id="46c09-296">N/A</span></span>|<span data-ttu-id="46c09-297">1</span><span class="sxs-lookup"><span data-stu-id="46c09-297">1</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.LimitedSequentialFiles>|<span data-ttu-id="46c09-298">不可用</span><span class="sxs-lookup"><span data-stu-id="46c09-298">N/A</span></span>|<span data-ttu-id="46c09-299">1</span><span class="sxs-lookup"><span data-stu-id="46c09-299">1</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.SingleFileBoundedSize>|<span data-ttu-id="46c09-300">不可用</span><span class="sxs-lookup"><span data-stu-id="46c09-300">N/A</span></span>|<span data-ttu-id="46c09-301">-1</span><span class="sxs-lookup"><span data-stu-id="46c09-301">-1</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.SingleFileUnboundedSize>|<span data-ttu-id="46c09-302">>0</span><span class="sxs-lookup"><span data-stu-id="46c09-302">>0</span></span>|<span data-ttu-id="46c09-303">1</span><span class="sxs-lookup"><span data-stu-id="46c09-303">1</span></span>|  
|<xref:System.Diagnostics.TraceLogRetentionOption.UnlimitedSequentialFiles>|<span data-ttu-id="46c09-304">>1</span><span class="sxs-lookup"><span data-stu-id="46c09-304">>1</span></span>|<span data-ttu-id="46c09-305">2</span><span class="sxs-lookup"><span data-stu-id="46c09-305">2</span></span>|  
  
   
  
## Examples  
 <span data-ttu-id="46c09-306">下面的代码示例演示如何显示的值<xref:System.Diagnostics.EventSchemaTraceListener.MaximumNumberOfFiles%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-306">The following code example demonstrates how to display the value of the <xref:System.Diagnostics.EventSchemaTraceListener.MaximumNumberOfFiles%2A> property.</span></span> <span data-ttu-id="46c09-307">此代码示例是为提供一个更大示例的一部分<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-307">This code example is part of a larger example that is provided for the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/cs/program.cs#7)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/vb/program.vb#7)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="TraceData">
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-308">将跟踪数据写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-308">Writes trace data to the log file.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="TraceData">
      <MemberSignature Language="C#" Value="public override void TraceData (System.Diagnostics.TraceEventCache eventCache, string source, System.Diagnostics.TraceEventType eventType, int id, object data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void TraceData(class System.Diagnostics.TraceEventCache eventCache, string source, valuetype System.Diagnostics.TraceEventType eventType, int32 id, object data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.TraceData(System.Diagnostics.TraceEventCache,System.String,System.Diagnostics.TraceEventType,System.Int32,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub TraceData (eventCache As TraceEventCache, source As String, eventType As TraceEventType, id As Integer, data As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void TraceData(System::Diagnostics::TraceEventCache ^ eventCache, System::String ^ source, System::Diagnostics::TraceEventType eventType, int id, System::Object ^ data);" />
      <MemberSignature Language="F#" Value="abstract member TraceData : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * obj -&gt; unit&#xA;override this.TraceData : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * obj -&gt; unit" Usage="eventSchemaTraceListener.TraceData (eventCache, source, eventType, id, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2">
          <AttributeName>System.Security.SecurityCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="eventCache" Type="System.Diagnostics.TraceEventCache" />
        <Parameter Name="source" Type="System.String" />
        <Parameter Name="eventType" Type="System.Diagnostics.TraceEventType" />
        <Parameter Name="id" Type="System.Int32" />
        <Parameter Name="data" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="eventCache">
          <span data-ttu-id="46c09-309">包含当前进程 ID、线程 ID 以及堆栈跟踪信息的 <see cref="T:System.Diagnostics.TraceEventCache" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-309">A <see cref="T:System.Diagnostics.TraceEventCache" /> that contains the current process ID, thread ID, and stack trace information.</span>
          </span>
        </param>
        <param name="source">
          <span data-ttu-id="46c09-310">源名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-310">The source name.</span>
          </span>
        </param>
        <param name="eventType">
          <span data-ttu-id="46c09-311">
            <see cref="T:System.Diagnostics.TraceEventType" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-311">One of the <see cref="T:System.Diagnostics.TraceEventType" /> values.</span>
          </span>
        </param>
        <param name="id">
          <span data-ttu-id="46c09-312">事件的数值标识符。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-312">A numeric identifier for the event.</span>
          </span>
        </param>
        <param name="data">
          <span data-ttu-id="46c09-313">要发出的数据对象。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-313">A data object to emit.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-314">将跟踪信息、单个数据对象和事件信息写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-314">Writes trace information, a single data object, and event information to the log file.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-315">`eventCache`， `source`， `eventType`，和`id`标头和跟踪页脚中使用参数。</span><span class="sxs-lookup"><span data-stu-id="46c09-315">The `eventCache`, `source`, `eventType`, and `id` parameters are used in the header and footer of the trace.</span></span> <span data-ttu-id="46c09-316">`id`都会在写入前，将参数转换为无符号整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-316">The `id` parameter is converted to an unsigned integer before it is written.</span></span> <span data-ttu-id="46c09-317">因此，负`id`值编写为一个较大的正整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-317">Therefore, a negative `id` value is written as a large positive integer.</span></span> <span data-ttu-id="46c09-318">`data`形式写入参数`Data`中的节点`UserData`元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-318">The `data` parameter is written as a `Data` node in the `UserData` element.</span></span> <span data-ttu-id="46c09-319">`ToString`数据对象的方法用于将对象转换为字符串。</span><span class="sxs-lookup"><span data-stu-id="46c09-319">The `ToString` method of the data object is used to convert the object to a string.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="46c09-320">此方法不应由应用程序代码直接调用。</span><span class="sxs-lookup"><span data-stu-id="46c09-320">This method is not intended to be called directly by application code.</span></span> <span data-ttu-id="46c09-321">它由方法调用<xref:System.Diagnostics.Debug>， <xref:System.Diagnostics.Trace>，和<xref:System.Diagnostics.TraceSource>类来写入跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-321">It is called by methods of the <xref:System.Diagnostics.Debug>, <xref:System.Diagnostics.Trace>, and <xref:System.Diagnostics.TraceSource> classes to write trace data.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="TraceData">
      <MemberSignature Language="C#" Value="public override void TraceData (System.Diagnostics.TraceEventCache eventCache, string source, System.Diagnostics.TraceEventType eventType, int id, params object[] data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void TraceData(class System.Diagnostics.TraceEventCache eventCache, string source, valuetype System.Diagnostics.TraceEventType eventType, int32 id, object[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.TraceData(System.Diagnostics.TraceEventCache,System.String,System.Diagnostics.TraceEventType,System.Int32,System.Object[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub TraceData (eventCache As TraceEventCache, source As String, eventType As TraceEventType, id As Integer, ParamArray data As Object())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void TraceData(System::Diagnostics::TraceEventCache ^ eventCache, System::String ^ source, System::Diagnostics::TraceEventType eventType, int id, ... cli::array &lt;System::Object ^&gt; ^ data);" />
      <MemberSignature Language="F#" Value="abstract member TraceData : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * obj[] -&gt; unit&#xA;override this.TraceData : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * obj[] -&gt; unit" Usage="eventSchemaTraceListener.TraceData (eventCache, source, eventType, id, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2">
          <AttributeName>System.Security.SecurityCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="eventCache" Type="System.Diagnostics.TraceEventCache" />
        <Parameter Name="source" Type="System.String" />
        <Parameter Name="eventType" Type="System.Diagnostics.TraceEventType" />
        <Parameter Name="id" Type="System.Int32" />
        <Parameter Name="data" Type="System.Object[]">
          <Attributes>
            <Attribute>
              <AttributeName>System.ParamArray</AttributeName>
            </Attribute>
          </Attributes>
        </Parameter>
      </Parameters>
      <Docs>
        <param name="eventCache">
          <span data-ttu-id="46c09-322">包含当前进程 ID、线程 ID 以及堆栈跟踪信息的 <see cref="T:System.Diagnostics.TraceEventCache" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-322">A <see cref="T:System.Diagnostics.TraceEventCache" /> that contains the current process ID, thread ID, and stack trace information.</span>
          </span>
        </param>
        <param name="source">
          <span data-ttu-id="46c09-323">源名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-323">The source name.</span>
          </span>
        </param>
        <param name="eventType">
          <span data-ttu-id="46c09-324">
            <see cref="T:System.Diagnostics.TraceEventType" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-324">One of the <see cref="T:System.Diagnostics.TraceEventType" /> values.</span>
          </span>
        </param>
        <param name="id">
          <span data-ttu-id="46c09-325">事件的数值标识符。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-325">A numeric identifier for the event.</span>
          </span>
        </param>
        <param name="data">
          <span data-ttu-id="46c09-326">要发出的数据对象的数组。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-326">An array of data objects to emit.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-327">将跟踪信息、多个数据对象和事件信息写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-327">Writes trace information, multiple data objects, and event information to the log file.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-328">`eventCache`， `source`， `eventType`，和`id`标头和跟踪页脚中使用参数。</span><span class="sxs-lookup"><span data-stu-id="46c09-328">The `eventCache`, `source`, `eventType`, and `id` parameters are used in the header and footer of the trace.</span></span> <span data-ttu-id="46c09-329">`id`都会在写入前，将参数转换为无符号整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-329">The `id` parameter is converted to an unsigned integer before it is written.</span></span> <span data-ttu-id="46c09-330">因此，负`id`值编写为一个较大的正整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-330">Therefore, a negative `id` value is written as a large positive integer.</span></span> <span data-ttu-id="46c09-331">中的对象`data`方式编写参数数组`Data`中的节点`UserData`元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-331">The objects in the `data` parameter array are written as `Data` nodes in the `UserData` element.</span></span> <span data-ttu-id="46c09-332">`ToString`的每个数据对象的方法用于将对象转换为字符串。</span><span class="sxs-lookup"><span data-stu-id="46c09-332">The `ToString` method of each data object is used to convert the object to a string.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="46c09-333">此方法不应由应用程序代码直接调用。</span><span class="sxs-lookup"><span data-stu-id="46c09-333">This method is not intended to be called directly by application code.</span></span> <span data-ttu-id="46c09-334">它由方法调用<xref:System.Diagnostics.Debug>， <xref:System.Diagnostics.Trace>，和<xref:System.Diagnostics.TraceSource>类来写入跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-334">It is called by methods of the <xref:System.Diagnostics.Debug>, <xref:System.Diagnostics.Trace>, and <xref:System.Diagnostics.TraceSource> classes to write trace data.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="TraceEvent">
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-335">将事件跟踪信息写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-335">Writes event trace information to the log file.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="TraceEvent">
      <MemberSignature Language="C#" Value="public override void TraceEvent (System.Diagnostics.TraceEventCache eventCache, string source, System.Diagnostics.TraceEventType eventType, int id, string message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void TraceEvent(class System.Diagnostics.TraceEventCache eventCache, string source, valuetype System.Diagnostics.TraceEventType eventType, int32 id, string message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.TraceEvent(System.Diagnostics.TraceEventCache,System.String,System.Diagnostics.TraceEventType,System.Int32,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub TraceEvent (eventCache As TraceEventCache, source As String, eventType As TraceEventType, id As Integer, message As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void TraceEvent(System::Diagnostics::TraceEventCache ^ eventCache, System::String ^ source, System::Diagnostics::TraceEventType eventType, int id, System::String ^ message);" />
      <MemberSignature Language="F#" Value="abstract member TraceEvent : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * string -&gt; unit&#xA;override this.TraceEvent : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * string -&gt; unit" Usage="eventSchemaTraceListener.TraceEvent (eventCache, source, eventType, id, message)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2">
          <AttributeName>System.Security.SecurityCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="eventCache" Type="System.Diagnostics.TraceEventCache" />
        <Parameter Name="source" Type="System.String" />
        <Parameter Name="eventType" Type="System.Diagnostics.TraceEventType" />
        <Parameter Name="id" Type="System.Int32" />
        <Parameter Name="message" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="eventCache">
          <span data-ttu-id="46c09-336">包含当前进程 ID、线程 ID 以及堆栈跟踪信息的 <see cref="T:System.Diagnostics.TraceEventCache" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-336">A <see cref="T:System.Diagnostics.TraceEventCache" /> that contains the current process ID, thread ID, and stack trace information.</span>
          </span>
        </param>
        <param name="source">
          <span data-ttu-id="46c09-337">源名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-337">The source name.</span>
          </span>
        </param>
        <param name="eventType">
          <span data-ttu-id="46c09-338">
            <see cref="T:System.Diagnostics.TraceEventType" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-338">One of the <see cref="T:System.Diagnostics.TraceEventType" /> values.</span>
          </span>
        </param>
        <param name="id">
          <span data-ttu-id="46c09-339">事件的数值标识符。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-339">A numeric identifier for the event.</span>
          </span>
        </param>
        <param name="message">
          <span data-ttu-id="46c09-340">要写入的消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-340">The message to write.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-341">将跟踪信息、消息和事件信息写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-341">Writes trace information, a message, and event information to the log file.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-342">`eventCache`， `source`， `eventType`，和`id`标头和跟踪页脚中使用参数。</span><span class="sxs-lookup"><span data-stu-id="46c09-342">The `eventCache`, `source`, `eventType`, and `id` parameters are used in the header and footer of the trace.</span></span> <span data-ttu-id="46c09-343">`id`都会在写入前，将参数转换为无符号整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-343">The `id` parameter is converted to an unsigned integer before it is written.</span></span> <span data-ttu-id="46c09-344">因此，负`id`值编写为一个较大的正整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-344">Therefore, a negative `id` value is written as a large positive integer.</span></span> <span data-ttu-id="46c09-345">`message`形式写入参数`Data`中的节点`EventData`元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-345">The `message` parameter is written as a `Data` node in the `EventData` element.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="46c09-346">此方法不应由应用程序代码直接调用。</span><span class="sxs-lookup"><span data-stu-id="46c09-346">This method is not intended to be called directly by application code.</span></span> <span data-ttu-id="46c09-347">它由方法调用<xref:System.Diagnostics.Debug>， <xref:System.Diagnostics.Trace>，和<xref:System.Diagnostics.TraceSource>类来写入跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-347">It is called by methods of the <xref:System.Diagnostics.Debug>, <xref:System.Diagnostics.Trace>, and <xref:System.Diagnostics.TraceSource> classes to write trace data.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="TraceEvent">
      <MemberSignature Language="C#" Value="public override void TraceEvent (System.Diagnostics.TraceEventCache eventCache, string source, System.Diagnostics.TraceEventType eventType, int id, string format, params object[] args);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void TraceEvent(class System.Diagnostics.TraceEventCache eventCache, string source, valuetype System.Diagnostics.TraceEventType eventType, int32 id, string format, object[] args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.TraceEvent(System.Diagnostics.TraceEventCache,System.String,System.Diagnostics.TraceEventType,System.Int32,System.String,System.Object[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub TraceEvent (eventCache As TraceEventCache, source As String, eventType As TraceEventType, id As Integer, format As String, ParamArray args As Object())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void TraceEvent(System::Diagnostics::TraceEventCache ^ eventCache, System::String ^ source, System::Diagnostics::TraceEventType eventType, int id, System::String ^ format, ... cli::array &lt;System::Object ^&gt; ^ args);" />
      <MemberSignature Language="F#" Value="abstract member TraceEvent : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * string * obj[] -&gt; unit&#xA;override this.TraceEvent : System.Diagnostics.TraceEventCache * string * System.Diagnostics.TraceEventType * int * string * obj[] -&gt; unit" Usage="eventSchemaTraceListener.TraceEvent (eventCache, source, eventType, id, format, args)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2">
          <AttributeName>System.Security.SecurityCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="eventCache" Type="System.Diagnostics.TraceEventCache" />
        <Parameter Name="source" Type="System.String" />
        <Parameter Name="eventType" Type="System.Diagnostics.TraceEventType" />
        <Parameter Name="id" Type="System.Int32" />
        <Parameter Name="format" Type="System.String" />
        <Parameter Name="args" Type="System.Object[]">
          <Attributes>
            <Attribute>
              <AttributeName>System.ParamArray</AttributeName>
            </Attribute>
          </Attributes>
        </Parameter>
      </Parameters>
      <Docs>
        <param name="eventCache">
          <span data-ttu-id="46c09-348">包含当前进程 ID、线程 ID 以及堆栈跟踪信息的 <see cref="T:System.Diagnostics.TraceEventCache" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-348">A <see cref="T:System.Diagnostics.TraceEventCache" /> that contains the current process ID, thread ID, and stack trace information.</span>
          </span>
        </param>
        <param name="source">
          <span data-ttu-id="46c09-349">源名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-349">The source name.</span>
          </span>
        </param>
        <param name="eventType">
          <span data-ttu-id="46c09-350">
            <see cref="T:System.Diagnostics.TraceEventType" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-350">One of the <see cref="T:System.Diagnostics.TraceEventType" /> values.</span>
          </span>
        </param>
        <param name="id">
          <span data-ttu-id="46c09-351">事件的数值标识符。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-351">A numeric identifier for the event.</span>
          </span>
        </param>
        <param name="format">
          <span data-ttu-id="46c09-352">包含零个或多个格式项的格式字符串，这些项与 <c>args</c> 数组中的对象相对应。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-352">A format string that contains zero or more format items that correspond to objects in the <c>args</c> array.</span>
          </span>
        </param>
        <param name="args">
          <span data-ttu-id="46c09-353">一个对象数组，其中包含零个或多个要设置格式的对象。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-353">An object array that contains zero or more objects to format.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-354">将跟踪信息、格式化消息和事件信息写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-354">Writes trace information, a formatted message, and event information to the log file.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-355">`eventCache`， `source`， `eventType`，和`id`标头和跟踪页脚中使用参数。</span><span class="sxs-lookup"><span data-stu-id="46c09-355">The `eventCache`, `source`, `eventType`, and `id` parameters are used in the header and footer of the trace.</span></span> <span data-ttu-id="46c09-356">`id`都会在写入前，将参数转换为无符号整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-356">The `id` parameter is converted to an unsigned integer before it is written.</span></span> <span data-ttu-id="46c09-357">因此，负`id`值编写为一个较大的正整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-357">Therefore, a negative `id` value is written as a large positive integer.</span></span> <span data-ttu-id="46c09-358"><xref:System.String.Format%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>调用方法和`format`字符串和`args`数组作为参数传递。</span><span class="sxs-lookup"><span data-stu-id="46c09-358">The <xref:System.String.Format%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method is called and the `format` string and `args` array are passed in as parameters.</span></span> <span data-ttu-id="46c09-359">此方法设置的格式`args`对象数组，并将写入格式化的数组作为`Data`中的节点`EventData`元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-359">This method formats the `args` object array and writes the formatted array as the `Data` node in the `EventData` element.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="46c09-360">此方法不应由应用程序代码直接调用。</span><span class="sxs-lookup"><span data-stu-id="46c09-360">This method is not intended to be called directly by application code.</span></span> <span data-ttu-id="46c09-361">它由方法调用<xref:System.Diagnostics.Debug>， <xref:System.Diagnostics.Trace>，和<xref:System.Diagnostics.TraceSource>类来写入跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-361">It is called by methods of the <xref:System.Diagnostics.Debug>, <xref:System.Diagnostics.Trace>, and <xref:System.Diagnostics.TraceSource> classes to write trace data.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="TraceLogRetentionOption">
      <MemberSignature Language="C#" Value="public System.Diagnostics.TraceLogRetentionOption TraceLogRetentionOption { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Diagnostics.TraceLogRetentionOption TraceLogRetentionOption" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.EventSchemaTraceListener.TraceLogRetentionOption" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property TraceLogRetentionOption As TraceLogRetentionOption" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Diagnostics::TraceLogRetentionOption TraceLogRetentionOption { System::Diagnostics::TraceLogRetentionOption get(); };" />
      <MemberSignature Language="F#" Value="member this.TraceLogRetentionOption : System.Diagnostics.TraceLogRetentionOption" Usage="System.Diagnostics.EventSchemaTraceListener.TraceLogRetentionOption" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.TraceLogRetentionOption</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-362">获取该文件的跟踪日志保留选项。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-362">Gets the trace log retention option for the file.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="46c09-363">
            <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> 值之一。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-363">One of the <see cref="T:System.Diagnostics.TraceLogRetentionOption" /> values.</span>
          </span>
          <span data-ttu-id="46c09-364">默认值为 <see cref="F:System.Diagnostics.TraceLogRetentionOption.SingleFileUnboundedSize" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-364">The default is <see cref="F:System.Diagnostics.TraceLogRetentionOption.SingleFileUnboundedSize" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="46c09-365">下面的代码示例演示如何显示的值<xref:System.Diagnostics.EventSchemaTraceListener.TraceLogRetentionOption%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="46c09-365">The following code example demonstrates how to display the value of the <xref:System.Diagnostics.EventSchemaTraceListener.TraceLogRetentionOption%2A> property.</span></span> <span data-ttu-id="46c09-366">此代码示例是为提供一个更大示例的一部分<xref:System.Diagnostics.EventSchemaTraceListener>类。</span><span class="sxs-lookup"><span data-stu-id="46c09-366">This code example is part of a larger example that is provided for the <xref:System.Diagnostics.EventSchemaTraceListener> class.</span></span>  
  
 [!code-csharp[System.Diagnostics.EventSchemaTraceListener#9](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/cs/program.cs#9)]
 [!code-vb[System.Diagnostics.EventSchemaTraceListener#9](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.EventSchemaTraceListener/vb/program.vb#9)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="TraceTransfer">
      <MemberSignature Language="C#" Value="public override void TraceTransfer (System.Diagnostics.TraceEventCache eventCache, string source, int id, string message, Guid relatedActivityId);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void TraceTransfer(class System.Diagnostics.TraceEventCache eventCache, string source, int32 id, string message, valuetype System.Guid relatedActivityId) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.TraceTransfer(System.Diagnostics.TraceEventCache,System.String,System.Int32,System.String,System.Guid)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub TraceTransfer (eventCache As TraceEventCache, source As String, id As Integer, message As String, relatedActivityId As Guid)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void TraceTransfer(System::Diagnostics::TraceEventCache ^ eventCache, System::String ^ source, int id, System::String ^ message, Guid relatedActivityId);" />
      <MemberSignature Language="F#" Value="abstract member TraceTransfer : System.Diagnostics.TraceEventCache * string * int * string * Guid -&gt; unit&#xA;override this.TraceTransfer : System.Diagnostics.TraceEventCache * string * int * string * Guid -&gt; unit" Usage="eventSchemaTraceListener.TraceTransfer (eventCache, source, id, message, relatedActivityId)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2">
          <AttributeName>System.Security.SecurityCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="eventCache" Type="System.Diagnostics.TraceEventCache" />
        <Parameter Name="source" Type="System.String" />
        <Parameter Name="id" Type="System.Int32" />
        <Parameter Name="message" Type="System.String" />
        <Parameter Name="relatedActivityId" Type="System.Guid" />
      </Parameters>
      <Docs>
        <param name="eventCache">
          <span data-ttu-id="46c09-367">包含当前进程 ID、线程 ID 以及堆栈跟踪信息的 <see cref="T:System.Diagnostics.TraceEventCache" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-367">A <see cref="T:System.Diagnostics.TraceEventCache" /> that contains the current process ID, thread ID, and stack trace information.</span>
          </span>
        </param>
        <param name="source">
          <span data-ttu-id="46c09-368">源名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-368">The source name.</span>
          </span>
        </param>
        <param name="id">
          <span data-ttu-id="46c09-369">事件的数值标识符。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-369">A numeric identifier for the event.</span>
          </span>
        </param>
        <param name="message">
          <span data-ttu-id="46c09-370">要写入的跟踪消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-370">A trace message to write.</span>
          </span>
        </param>
        <param name="relatedActivityId">
          <span data-ttu-id="46c09-371">标识相关活动的 <see cref="T:System.Guid" /> 结构。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-371">A <see cref="T:System.Guid" /> structure that identifies a related activity.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-372">将跟踪信息（包括相关活动的标识）、消息和事件信息写入日志文件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-372">Writes trace information, including the identity of a related activity, a message, and event information, to the log file.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-373"><xref:System.Diagnostics.EventSchemaTraceListener.TraceTransfer%2A>方法用于关联相关的跟踪。</span><span class="sxs-lookup"><span data-stu-id="46c09-373">The <xref:System.Diagnostics.EventSchemaTraceListener.TraceTransfer%2A> method is used to correlate related traces.</span></span> <span data-ttu-id="46c09-374">`eventCache`， `source`， `id`，和`relatedActivityId`标头和跟踪页脚中使用参数。</span><span class="sxs-lookup"><span data-stu-id="46c09-374">The `eventCache`, `source`, `id`, and `relatedActivityId` parameters are used in the header and footer of the trace.</span></span> <span data-ttu-id="46c09-375">`id`都会在写入前，将参数转换为无符号整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-375">The `id` parameter is converted to an unsigned integer before it is written.</span></span> <span data-ttu-id="46c09-376">因此，负`id`值编写为一个较大的正整数。</span><span class="sxs-lookup"><span data-stu-id="46c09-376">Therefore, a negative `id` value is written as a large positive integer.</span></span> <span data-ttu-id="46c09-377">`message`形式写入参数`Data`元素。</span><span class="sxs-lookup"><span data-stu-id="46c09-377">The `message` parameter is written as the `Data` element.</span></span> <span data-ttu-id="46c09-378"><xref:System.Guid.ToString%28System.String%29?displayProperty=nameWithType>调用方法来转换`relatedActivityId`"B"的值格式的字符串，它显示在标头。</span><span class="sxs-lookup"><span data-stu-id="46c09-378">The <xref:System.Guid.ToString%28System.String%29?displayProperty=nameWithType> method is called to convert the `relatedActivityId` value to a "B" formatted string, which appears in the header.</span></span> <span data-ttu-id="46c09-379">`Opcode`页脚中的元素标识跟踪事件的类型为<xref:System.Diagnostics.TraceEventType.Transfer>。</span><span class="sxs-lookup"><span data-stu-id="46c09-379">The `Opcode` element in the footer identifies the trace event type as a <xref:System.Diagnostics.TraceEventType.Transfer>.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="46c09-380"><xref:System.Diagnostics.EventSchemaTraceListener.TraceTransfer%2A>不应由应用程序代码调用方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-380">The <xref:System.Diagnostics.EventSchemaTraceListener.TraceTransfer%2A> method should not be called by application code.</span></span> <span data-ttu-id="46c09-381">它旨在由<xref:System.Diagnostics.TraceSource>发出的跟踪信息的对象及其<xref:System.Diagnostics.TraceSource.TraceTransfer%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="46c09-381">It is intended to be used by a <xref:System.Diagnostics.TraceSource> object to emit the trace information for its <xref:System.Diagnostics.TraceSource.TraceTransfer%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Write">
      <MemberSignature Language="C#" Value="public override void Write (string message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Write(string message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.Write(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Write (message As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Write(System::String ^ message);" />
      <MemberSignature Language="F#" Value="abstract member Write : string -&gt; unit&#xA;override this.Write : string -&gt; unit" Usage="eventSchemaTraceListener.Write message" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="46c09-382">要写入的消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-382">The message to write.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-383">将消息写入日志文件，且不提供任何其他上下文信息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-383">Writes a message to the log file without providing any additional context information.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-384"><xref:System.Diagnostics.EventSchemaTraceListener.TraceEvent%2A>调用方法来将消息记录为<xref:System.Diagnostics.TraceEventType.Information>事件。</span><span class="sxs-lookup"><span data-stu-id="46c09-384">The <xref:System.Diagnostics.EventSchemaTraceListener.TraceEvent%2A> method is called to log the message as an <xref:System.Diagnostics.TraceEventType.Information> event.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="46c09-385">此方法不应由应用程序代码直接调用。</span><span class="sxs-lookup"><span data-stu-id="46c09-385">This method is not intended to be called directly by application code.</span></span> <span data-ttu-id="46c09-386">它由方法调用<xref:System.Diagnostics.Debug>， <xref:System.Diagnostics.Trace>，和<xref:System.Diagnostics.TraceSource>类来写入跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-386">It is called by methods of the <xref:System.Diagnostics.Debug>, <xref:System.Diagnostics.Trace>, and <xref:System.Diagnostics.TraceSource> classes to write trace data.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="WriteLine">
      <MemberSignature Language="C#" Value="public override void WriteLine (string message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void WriteLine(string message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.EventSchemaTraceListener.WriteLine(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub WriteLine (message As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void WriteLine(System::String ^ message);" />
      <MemberSignature Language="F#" Value="abstract member WriteLine : string -&gt; unit&#xA;override this.WriteLine : string -&gt; unit" Usage="eventSchemaTraceListener.WriteLine message" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="46c09-387">要写入的消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-387">The message to write.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="46c09-388">将后跟当前行终止符的消息写入日志文件，且不提供任何其他上下文信息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-388">Writes a message followed by the current line terminator to the log file without providing any additional context information.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-389"><xref:System.Diagnostics.EventSchemaTraceListener.TraceEvent%2A>调用方法来将消息记录为<xref:System.Diagnostics.TraceEventType.Information>事件。</span><span class="sxs-lookup"><span data-stu-id="46c09-389">The <xref:System.Diagnostics.EventSchemaTraceListener.TraceEvent%2A> method is called to log the message as an <xref:System.Diagnostics.TraceEventType.Information> event.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="46c09-390">此方法不应由应用程序代码直接调用。</span><span class="sxs-lookup"><span data-stu-id="46c09-390">This method is not intended to be called directly by application code.</span></span> <span data-ttu-id="46c09-391">它由方法调用<xref:System.Diagnostics.Debug>， <xref:System.Diagnostics.Trace>，和<xref:System.Diagnostics.TraceSource>类来写入跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="46c09-391">It is called by methods of the <xref:System.Diagnostics.Debug>, <xref:System.Diagnostics.Trace>, and <xref:System.Diagnostics.TraceSource> classes to write trace data.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Writer">
      <MemberSignature Language="C#" Value="public System.IO.TextWriter Writer { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IO.TextWriter Writer" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.EventSchemaTraceListener.Writer" />
      <MemberSignature Language="VB.NET" Value="Public Property Writer As TextWriter" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IO::TextWriter ^ Writer { System::IO::TextWriter ^ get(); void set(System::IO::TextWriter ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Writer : System.IO.TextWriter with get, set" Usage="System.Diagnostics.EventSchemaTraceListener.Writer" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Core</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2">
          <AttributeName>get: System.Security.SecurityCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.TextWriter</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="46c09-392">获取或设置写入日志文件的基础文本编写器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-392">Gets or sets the underlying text writer that writes to the log file.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="46c09-393">
            <see cref="T:System.IO.TextWriter" /> 对象。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-393">A <see cref="T:System.IO.TextWriter" /> object.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="46c09-394">尝试使用的 set 访问器<xref:System.Diagnostics.EventSchemaTraceListener.Writer%2A>属性引发<xref:System.NotSupportedException>。</span><span class="sxs-lookup"><span data-stu-id="46c09-394">An attempt to use the set accessor for the <xref:System.Diagnostics.EventSchemaTraceListener.Writer%2A> property raises a <xref:System.NotSupportedException>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException">
          <span data-ttu-id="46c09-395">尝试向 <see cref="P:System.Diagnostics.EventSchemaTraceListener.Writer" /> 属性分配值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="46c09-395">An attempt was made to assign a value to the <see cref="P:System.Diagnostics.EventSchemaTraceListener.Writer" /> property.</span>
          </span>
        </exception>
      </Docs>
    </Member>
  </Members>
</Type>