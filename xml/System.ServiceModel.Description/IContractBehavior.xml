<Type Name="IContractBehavior" FullName="System.ServiceModel.Description.IContractBehavior">
  <TypeSignature Language="C#" Value="public interface IContractBehavior" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IContractBehavior" />
  <TypeSignature Language="DocId" Value="T:System.ServiceModel.Description.IContractBehavior" />
  <TypeSignature Language="VB.NET" Value="Public Interface IContractBehavior" />
  <TypeSignature Language="C++ CLI" Value="public interface class IContractBehavior" />
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="4a017-101">实现可用于扩展服务或客户端应用程序中的协定的运行时行为的方法。</span><span class="sxs-lookup"><span data-stu-id="4a017-101">Implements methods that can be used to extend run-time behavior for a contract in either a service or client application.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a017-102">实现 <xref:System.ServiceModel.Description.IContractBehavior> 接口可以在应用程序级别修改、检查或扩展协定范围内的执行的某个方面。</span><span class="sxs-lookup"><span data-stu-id="4a017-102">Implement the <xref:System.ServiceModel.Description.IContractBehavior> interface to modify, examine, or extend some aspect of contract-wide execution at the application level.</span></span> <span data-ttu-id="4a017-103">与 <xref:System.ServiceModel.Description.IServiceBehavior> 和 <xref:System.ServiceModel.Description.IEndpointBehavior> 对象不同，<xref:System.ServiceModel.Description.IContractBehavior> 对象是不能通过使用应用程序配置文件添加到运行时的，而只能通过编程方式或使用属性来添加。</span><span class="sxs-lookup"><span data-stu-id="4a017-103">Unlike <xref:System.ServiceModel.Description.IServiceBehavior> and <xref:System.ServiceModel.Description.IEndpointBehavior> objects, <xref:System.ServiceModel.Description.IContractBehavior> objects cannot be added to the runtime using an application configuration file; they can only be added programmatically or using an attribute.</span></span>  
  
 <span data-ttu-id="4a017-104">有关服务、 终结点，以及协定行为之间进行选择的详细信息，请参阅[配置和扩展的运行时带有行为](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)。</span><span class="sxs-lookup"><span data-stu-id="4a017-104">For more information about choosing between service, endpoint, and contract behaviors, see [Configuring and Extending the Runtime with Behaviors](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
-   <span data-ttu-id="4a017-105">使用 <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> 方法可以向绑定元素提供自定义数据，从而支持该行为。</span><span class="sxs-lookup"><span data-stu-id="4a017-105">Use the <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> method to provide binding elements with custom data to support the behavior.</span></span>  
  
-   <span data-ttu-id="4a017-106">使用 <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> 方法可以修改、检查客户端应用程序的协定中的扩展，或向该协定中插入扩展。</span><span class="sxs-lookup"><span data-stu-id="4a017-106">Use the <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> method to modify, examine, or insert extensions to a contract in a client application.</span></span>  
  
-   <span data-ttu-id="4a017-107">使用 <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> 方法可以修改、检查服务应用程序的协定中的扩展，或向该协定中插入扩展。</span><span class="sxs-lookup"><span data-stu-id="4a017-107">Use the <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> method to modify, examine, or insert extensions to a contract in a service application.</span></span>  
  
-   <span data-ttu-id="4a017-108">使用 <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> 方法可以确保协定可以支持特定功能。</span><span class="sxs-lookup"><span data-stu-id="4a017-108">Use the <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> method to ensure that a contract can support a particular feature.</span></span>  
  
 <span data-ttu-id="4a017-109"><xref:System.ServiceModel.Description.IContractBehavior> 对象可使用所有这些方法，但通常只有一种方法是重要的，在这种情况下，未被使用的方法可不带值返回。</span><span class="sxs-lookup"><span data-stu-id="4a017-109"><xref:System.ServiceModel.Description.IContractBehavior> objects can make use of any of these methods, but often only one is important; in such cases, the unused methods can return without any value.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4a017-110">所有 <xref:System.ServiceModel.Description.IContractBehavior> 方法会将 <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> 和 <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> 作为参数传递。</span><span class="sxs-lookup"><span data-stu-id="4a017-110">All of the <xref:System.ServiceModel.Description.IContractBehavior> methods pass <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> and <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> as parameters.</span></span> <span data-ttu-id="4a017-111">这些参数只用于检查；如果您修改了这些对象，则执行行为将是不确定的。</span><span class="sxs-lookup"><span data-stu-id="4a017-111">These parameters are for examination; if you modify the objects the execution behavior is undefined.</span></span>  
  
 <span data-ttu-id="4a017-112"><xref:System.ServiceModel.Description.IContractBehavior> 类型既可用于服务，也可用于客户端，或者同时用于服务和客户端。</span><span class="sxs-lookup"><span data-stu-id="4a017-112"><xref:System.ServiceModel.Description.IContractBehavior> types can be used on either the service or the client, or both.</span></span> <span data-ttu-id="4a017-113">若要在服务上执行自定义任务，则必须先将 <xref:System.ServiceModel.Description.IContractBehavior> 对象添加到 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> 属性，然后构造服务运行时，该构造操作是在对 <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> 对象调用 <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> 方法时进行的。</span><span class="sxs-lookup"><span data-stu-id="4a017-113">To perform a customization task on the service, the <xref:System.ServiceModel.Description.IContractBehavior> object must be added to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the construction of the service runtime, which occurs when the <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> method is called on the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> object.</span></span> <span data-ttu-id="4a017-114">有两种方法可以实现此目的。</span><span class="sxs-lookup"><span data-stu-id="4a017-114">There are two ways to do this.</span></span>  
  
 <span data-ttu-id="4a017-115">第一种方法是通过编程方式，对 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> 对象调用 <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> 方法前，将自定义协定行为添加到 <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> 属性。</span><span class="sxs-lookup"><span data-stu-id="4a017-115">The first method is to programmatically add the custom contract behavior to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the point when the <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> method is called on the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> object.</span></span> <span data-ttu-id="4a017-116">应用此方法时，该行为将应用于流经任何终结点的该协定的所有消息。</span><span class="sxs-lookup"><span data-stu-id="4a017-116">When applied this way, the behavior is applied for all messages flowing through that contract on any endpoint.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4a017-117">该行为会应用到同一类型的所有协定。</span><span class="sxs-lookup"><span data-stu-id="4a017-117">The behavior is applied to all contracts of the same type.</span></span> <span data-ttu-id="4a017-118">例如，如果通过编程方式将同一协定类型添加到多个终结点，则该行为将修改引用同一协定对象的所有终结点。</span><span class="sxs-lookup"><span data-stu-id="4a017-118">For example, if you programmatically add the same contract type to more than one endpoint, the behavior modifies all endpoints that refer to the same contract object.</span></span>  
  
 <span data-ttu-id="4a017-119">第二种方法是创建可实现 <xref:System.ServiceModel.Description.IContractBehavior> 的自定义属性，并将其应用到：</span><span class="sxs-lookup"><span data-stu-id="4a017-119">The second method is to create a custom attribute that implements <xref:System.ServiceModel.Description.IContractBehavior> and apply that to:</span></span>  
  
-   <span data-ttu-id="4a017-120">一个协定接口。</span><span class="sxs-lookup"><span data-stu-id="4a017-120">A contract interface.</span></span> <span data-ttu-id="4a017-121">在此情况下，该行为将应用到所有终结点中该类型的所有协定。</span><span class="sxs-lookup"><span data-stu-id="4a017-121">In this case, the behavior is applied to all contracts of that type in any endpoint.</span></span>  
  
-   <span data-ttu-id="4a017-122">一个服务类。</span><span class="sxs-lookup"><span data-stu-id="4a017-122">A service class.</span></span>  <span data-ttu-id="4a017-123">在此情况下，该行为将应用到所有终结点，而不管协定类型如何。</span><span class="sxs-lookup"><span data-stu-id="4a017-123">In this case, the behavior is applied to all endpoints regardless of contract.</span></span>  
  
-   <span data-ttu-id="4a017-124">一个回调类。</span><span class="sxs-lookup"><span data-stu-id="4a017-124">A callback class.</span></span>  <span data-ttu-id="4a017-125">在此情况下，该行为将应用到双向客户端的终结点。</span><span class="sxs-lookup"><span data-stu-id="4a017-125">In this case, the behavior is applied to the duplex client's endpoint.</span></span>  
  
 <span data-ttu-id="4a017-126">对于第二种方法，如果自定义属性还要实现 <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType>，则其行为将会稍有不同。</span><span class="sxs-lookup"><span data-stu-id="4a017-126">The behavior of the second approach varies slightly if the custom attribute also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType>.</span></span> <span data-ttu-id="4a017-127">在此情况下，该行为如下：</span><span class="sxs-lookup"><span data-stu-id="4a017-127">In this case, the behavior is as follows:</span></span>  
  
-   <span data-ttu-id="4a017-128">一个协定接口。</span><span class="sxs-lookup"><span data-stu-id="4a017-128">A contract interface.</span></span> <span data-ttu-id="4a017-129">在此情况下，该行为将应用到所有终结点中所有该类型的协定，并且 [!INCLUDE[indigo1](~/includes/indigo1-md.md)] 会忽略 <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> 属性的值。</span><span class="sxs-lookup"><span data-stu-id="4a017-129">In this case, the behavior is applied to all contracts of that type in any endpoint and [!INCLUDE[indigo1](~/includes/indigo1-md.md)] ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="4a017-130">一个服务类。</span><span class="sxs-lookup"><span data-stu-id="4a017-130">A service class.</span></span>  <span data-ttu-id="4a017-131">在此情况下，该行为只应用到其协定是 <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> 属性的值的终结点。</span><span class="sxs-lookup"><span data-stu-id="4a017-131">In this case, the behavior is applied only to endpoints the contract of which is the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="4a017-132">一个回调类。</span><span class="sxs-lookup"><span data-stu-id="4a017-132">A callback class.</span></span>  <span data-ttu-id="4a017-133">在这种情况下，该行为将应用到双工客户端的终结点和 WCF 将忽略的值<xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="4a017-133">In this case, the behavior is applied to the duplex client's endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="4a017-134">若要在客户端执行自定义计划任务，则必须先将 <xref:System.ServiceModel.Description.IContractBehavior> 对象添加到 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> 属性，然后构造客户端运行时，该构造操作是在调用 <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType> 时进行的。</span><span class="sxs-lookup"><span data-stu-id="4a017-134">To perform the customization task on the client for which it is intended, the <xref:System.ServiceModel.Description.IContractBehavior> object must be added to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the construction of the client runtime, which occurs when <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType> is called.</span></span> <span data-ttu-id="4a017-135">有两种方法可以实现此目的：</span><span class="sxs-lookup"><span data-stu-id="4a017-135">There are two ways to do this:</span></span>  
  
-   <span data-ttu-id="4a017-136">通过编程方式，在调用 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> 之前，先将自定义协定行为添加到 <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType> 属性。</span><span class="sxs-lookup"><span data-stu-id="4a017-136">Programmatically add the custom contract behavior to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the point when the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType> is called.</span></span>  
  
-   <span data-ttu-id="4a017-137">创建同时还可实现 <xref:System.ServiceModel.Description.IContractBehavior> 的自定义属性。</span><span class="sxs-lookup"><span data-stu-id="4a017-137">Create a custom attribute that also implements <xref:System.ServiceModel.Description.IContractBehavior>.</span></span>  
  
 <span data-ttu-id="4a017-138">有关详细信息以编程方式添加<xref:System.ServiceModel.Description.IContractBehavior>类型传递给客户端或服务应用程序，请参阅[配置和扩展的运行时带有行为](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)。</span><span class="sxs-lookup"><span data-stu-id="4a017-138">For more information on programmatically adding <xref:System.ServiceModel.Description.IContractBehavior> types to either the client or service application, see [Configuring and Extending the Runtime with Behaviors](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="4a017-139">下面的代码示例假定自定义 <xref:System.ServiceModel.Dispatcher.IInstanceProvider> 实现调用了可提供“单一实例”行为的 `ObjectProviderBehavior`，它始终返回同一服务实例，且不回收该服务实例。</span><span class="sxs-lookup"><span data-stu-id="4a017-139">The following code example assumes a custom <xref:System.ServiceModel.Dispatcher.IInstanceProvider> implementation called `ObjectProviderBehavior` that provides a "singleton" behavior; it always returns the same service instance and does not recycle it.</span></span>  
  
 <span data-ttu-id="4a017-140">对于实例提供程序自定义的插入，该示例演示了如何实现一个自定义属性 (`SingletonBehaviorAttribute`)，该自定义属性可实现 <xref:System.ServiceModel.Description.IContractBehavior>，从而插入自定义服务实例提供程序。</span><span class="sxs-lookup"><span data-stu-id="4a017-140">To insert the instance provider customization, the example shows how to implement a custom attribute (`SingletonBehaviorAttribute`) that implements <xref:System.ServiceModel.Description.IContractBehavior> to insert the custom service instance provider.</span></span> <span data-ttu-id="4a017-141">它还可实现 <xref:System.ServiceModel.Description.IContractBehaviorAttribute>，这会将其使用绑定到 `ISampleService` 协定。</span><span class="sxs-lookup"><span data-stu-id="4a017-141">It also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute>, which binds its use to the `ISampleService` contract.</span></span>  
  
 [!code-csharp[IContractBehavior#2](~/samples/snippets/csharp/VS_Snippets_CFX/icontractbehavior/cs/objectproviderbehavior.cs#2)]
 [!code-vb[IContractBehavior#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/icontractbehavior/vb/objectproviderbehavior.vb#2)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="AddBindingParameters">
      <MemberSignature Language="C#" Value="public void AddBindingParameters (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint, System.ServiceModel.Channels.BindingParameterCollection bindingParameters);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void AddBindingParameters(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint, class System.ServiceModel.Channels.BindingParameterCollection bindingParameters) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.AddBindingParameters(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint,System.ServiceModel.Channels.BindingParameterCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void AddBindingParameters(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint, System::ServiceModel::Channels::BindingParameterCollection ^ bindingParameters);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
        <Parameter Name="bindingParameters" Type="System.ServiceModel.Channels.BindingParameterCollection" />
      </Parameters>
      <Docs>
        <param name="contractDescription"><span data-ttu-id="4a017-142">要修改的协定说明。</span><span class="sxs-lookup"><span data-stu-id="4a017-142">The contract description to modify.</span></span></param>
        <param name="endpoint"><span data-ttu-id="4a017-143">要修改的终结点。</span><span class="sxs-lookup"><span data-stu-id="4a017-143">The endpoint to modify.</span></span></param>
        <param name="bindingParameters"><span data-ttu-id="4a017-144">绑定元素支持该行为所需的对象。</span><span class="sxs-lookup"><span data-stu-id="4a017-144">The objects that binding elements require to support the behavior.</span></span></param>
        <summary><span data-ttu-id="4a017-145">配置所有绑定元素以支持协定行为。</span><span class="sxs-lookup"><span data-stu-id="4a017-145">Configures any binding elements to support the contract behavior.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a017-146">实现 <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> 方法可向绑定元素提供支持协定行为所需的额外对象。</span><span class="sxs-lookup"><span data-stu-id="4a017-146">Implement the <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> method to provide binding elements with the extra objects they require to support the contract behavior.</span></span>  
  
 <span data-ttu-id="4a017-147">对于使用指定服务协定的每个终结点，都将对其调用一次此方法。</span><span class="sxs-lookup"><span data-stu-id="4a017-147">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplyClientBehavior">
      <MemberSignature Language="C#" Value="public void ApplyClientBehavior (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint, System.ServiceModel.Dispatcher.ClientRuntime clientRuntime);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ApplyClientBehavior(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint, class System.ServiceModel.Dispatcher.ClientRuntime clientRuntime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint,System.ServiceModel.Dispatcher.ClientRuntime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ApplyClientBehavior(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint, System::ServiceModel::Dispatcher::ClientRuntime ^ clientRuntime);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
        <Parameter Name="clientRuntime" Type="System.ServiceModel.Dispatcher.ClientRuntime" />
      </Parameters>
      <Docs>
        <param name="contractDescription"><span data-ttu-id="4a017-148">要实现扩展的协定说明。</span><span class="sxs-lookup"><span data-stu-id="4a017-148">The contract description for which the extension is intended.</span></span></param>
        <param name="endpoint"><span data-ttu-id="4a017-149">终结点。</span><span class="sxs-lookup"><span data-stu-id="4a017-149">The endpoint.</span></span></param>
        <param name="clientRuntime"><span data-ttu-id="4a017-150">客户端运行时。</span><span class="sxs-lookup"><span data-stu-id="4a017-150">The client runtime.</span></span></param>
        <summary><span data-ttu-id="4a017-151">在协定范围内执行客户端的修改或扩展。</span><span class="sxs-lookup"><span data-stu-id="4a017-151">Implements a modification or extension of the client across a contract.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a017-152">实现 <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> 方法可以在所有消息范围内或者针对某个特定操作，查看、修改或添加对客户端服务运行的扩展。</span><span class="sxs-lookup"><span data-stu-id="4a017-152">Implement the <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> method to view, modify, or add custom extensions to the client runtime across all messages or for one specific operation.</span></span> <span data-ttu-id="4a017-153">有关利用客户端运行时对象可进行的自定义的详细信息，请参见 <xref:System.ServiceModel.Dispatcher.ClientRuntime> 和 <xref:System.ServiceModel.Dispatcher.ClientOperation>。</span><span class="sxs-lookup"><span data-stu-id="4a017-153">For details about what customizations you can do with a client run-time object, see <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation>.</span></span>  
  
 <span data-ttu-id="4a017-154">如果该行为仅用于服务应用程序中，则 <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> 方法可引发 <xref:System.NotImplementedException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4a017-154">The <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> method can throw a <xref:System.NotImplementedException> exception if the behavior is only intended for use in a service application.</span></span>  
  
 <span data-ttu-id="4a017-155">对于使用指定服务协定的每个终结点，都将对其调用一次此方法。</span><span class="sxs-lookup"><span data-stu-id="4a017-155">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 <span data-ttu-id="4a017-156">注意，说明中可能存在拥有相同名称的两个操作（每个方向一个）；因此，如果必须循环执行协定为双向协定的操作，则您必须在终结点 <xref:System.ServiceModel.Dispatcher.ClientRuntime> 和 <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> 属性所返回的终结点之间关联消息方向。</span><span class="sxs-lookup"><span data-stu-id="4a017-156">Note that there can be two operations with the same name in the description (one in each direction), so if you must iterate through operations where the contract is a duplex contract, you must correlate the message direction between the endpoint <xref:System.ServiceModel.Dispatcher.ClientRuntime> and that returned by the <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> property.</span></span>  
  
 <span data-ttu-id="4a017-157">原因是其他行为可能已经在运行时中添加或移除了某些操作，所以无法保证说明中具有的操作数目同 <xref:System.ServiceModel.Dispatcher.ClientOperation> 属性中的 <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> 对象数目相等。</span><span class="sxs-lookup"><span data-stu-id="4a017-157">Because other behaviors may have already added or removed some operations from the runtime, there is no guarantee that there are the same number of operations in the description as there are <xref:System.ServiceModel.Dispatcher.ClientOperation> objects in the <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="4a017-158">下面的代码示例假定自定义 <xref:System.ServiceModel.Dispatcher.IInstanceProvider> 实现调用了可提供“单一实例”行为的 `ObjectProviderBehavior`，它始终返回同一服务实例，且不回收该服务实例。</span><span class="sxs-lookup"><span data-stu-id="4a017-158">The following code example assumes a custom <xref:System.ServiceModel.Dispatcher.IInstanceProvider> implementation called `ObjectProviderBehavior` that provides a "singleton" behavior; it always returns the same service instance and does not recycle it.</span></span>  
  
 <span data-ttu-id="4a017-159">对于实例提供程序自定义的插入，该示例演示了如何实现一个自定义属性 (`SingletonBehaviorAttribute`)，该自定义属性可实现 <xref:System.ServiceModel.Description.IContractBehavior>，从而插入自定义服务实例提供程序。</span><span class="sxs-lookup"><span data-stu-id="4a017-159">To insert the instance provider customization, the example shows how to implement a custom attribute (`SingletonBehaviorAttribute`) that implements <xref:System.ServiceModel.Description.IContractBehavior> to insert the custom service instance provider.</span></span> <span data-ttu-id="4a017-160">它还可实现 <xref:System.ServiceModel.Description.IContractBehaviorAttribute>，这会将其使用绑定到 `ISampleService` 协定。</span><span class="sxs-lookup"><span data-stu-id="4a017-160">It also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute>, which binds its use to the `ISampleService` contract.</span></span>  
  
 [!code-csharp[IContractBehavior#2](~/samples/snippets/csharp/VS_Snippets_CFX/icontractbehavior/cs/objectproviderbehavior.cs#2)]
 [!code-vb[IContractBehavior#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/icontractbehavior/vb/objectproviderbehavior.vb#2)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplyDispatchBehavior">
      <MemberSignature Language="C#" Value="public void ApplyDispatchBehavior (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint, System.ServiceModel.Dispatcher.DispatchRuntime dispatchRuntime);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ApplyDispatchBehavior(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint, class System.ServiceModel.Dispatcher.DispatchRuntime dispatchRuntime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint,System.ServiceModel.Dispatcher.DispatchRuntime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ApplyDispatchBehavior(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint, System::ServiceModel::Dispatcher::DispatchRuntime ^ dispatchRuntime);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
        <Parameter Name="dispatchRuntime" Type="System.ServiceModel.Dispatcher.DispatchRuntime" />
      </Parameters>
      <Docs>
        <param name="contractDescription"><span data-ttu-id="4a017-161">要修改的协定说明。</span><span class="sxs-lookup"><span data-stu-id="4a017-161">The contract description to be modified.</span></span></param>
        <param name="endpoint"><span data-ttu-id="4a017-162">公开协定的终结点。</span><span class="sxs-lookup"><span data-stu-id="4a017-162">The endpoint that exposes the contract.</span></span></param>
        <param name="dispatchRuntime"><span data-ttu-id="4a017-163">控制服务执行的调度运行时。</span><span class="sxs-lookup"><span data-stu-id="4a017-163">The dispatch runtime that controls service execution.</span></span></param>
        <summary><span data-ttu-id="4a017-164">在协定范围内执行客户端的修改或扩展。</span><span class="sxs-lookup"><span data-stu-id="4a017-164">Implements a modification or extension of the client across a contract.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a017-165">实现 <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> 可以在特定协定的所有消息范围内或针对该协定中的特定操作，查看、修改或添加对服务运行时的自定义扩展。</span><span class="sxs-lookup"><span data-stu-id="4a017-165">Implement the <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> to view, modify, or add custom extensions to the service runtime across all messages in a specific contract or for one specific operation in that contract.</span></span> <span data-ttu-id="4a017-166">有关可以在服务应用程序中执行的自定义的详细信息，请参见 <xref:System.ServiceModel.Dispatcher.DispatchRuntime> 和 <xref:System.ServiceModel.Dispatcher.DispatchOperation>。</span><span class="sxs-lookup"><span data-stu-id="4a017-166">For details about what customizations you can perform in a service application, see <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchOperation>.</span></span>  
  
 <span data-ttu-id="4a017-167">如果该行为仅用于客户端应用程序中，则 <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> 方法可引发 <xref:System.NotImplementedException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4a017-167">The <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> method can throw a <xref:System.NotImplementedException> exception if the behavior is only intended for use in a client application.</span></span>  
  
 <span data-ttu-id="4a017-168">对于使用指定服务协定的每个终结点，都将对其调用一次此方法。</span><span class="sxs-lookup"><span data-stu-id="4a017-168">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 <span data-ttu-id="4a017-169">注意，说明中可能存在拥有相同名称的两个操作（每个方向一个）；因此，如果必须循环执行协定为双向协定的操作，则您必须在终结点 <xref:System.ServiceModel.Dispatcher.DispatchRuntime> 和 <xref:System.ServiceModel.Dispatcher.DispatchRuntime.CallbackClientRuntime%2A> 属性所返回的终结点之间关联消息方向。</span><span class="sxs-lookup"><span data-stu-id="4a017-169">Note that there can be two operations with the same name in the description (one in each direction), so if you must iterate through operations where the contract is a duplex contract, you must correlate the message direction between the endpoint <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and that returned by the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.CallbackClientRuntime%2A> property.</span></span>  
  
 <span data-ttu-id="4a017-170">此外，由于其他行为可能已经在运行时中添加或移除了某些操作，所以无法保证说明中的操作数目同 <xref:System.ServiceModel.Dispatcher.DispatchOperation> 属性中的 <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A> 对象数目相等。</span><span class="sxs-lookup"><span data-stu-id="4a017-170">In addition, because other behaviors may have already added or removed some operations from the runtime, there is no guarantee that there are the same number of operations in description as there are <xref:System.ServiceModel.Dispatcher.DispatchOperation> objects in the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="4a017-171">下面的代码示例假定自定义 <xref:System.ServiceModel.Dispatcher.IInstanceProvider> 实现调用了可提供“单一实例”行为的 `ObjectProviderBehavior`，它始终返回同一服务实例，且不回收该服务实例。</span><span class="sxs-lookup"><span data-stu-id="4a017-171">The following code example assumes a custom <xref:System.ServiceModel.Dispatcher.IInstanceProvider> implementation called `ObjectProviderBehavior` that provides a "singleton" behavior; it always returns the same service instance and does not recycle it.</span></span>  
  
 <span data-ttu-id="4a017-172">对于实例提供程序自定义的插入，该示例演示了如何实现一个自定义属性 (`SingletonBehaviorAttribute`)，该自定义属性可实现 <xref:System.ServiceModel.Description.IContractBehavior>，从而插入自定义服务实例提供程序。</span><span class="sxs-lookup"><span data-stu-id="4a017-172">To insert the instance provider customization, the example shows how to implement a custom attribute (`SingletonBehaviorAttribute`) that implements <xref:System.ServiceModel.Description.IContractBehavior> to insert the custom service instance provider.</span></span> <span data-ttu-id="4a017-173">它还可实现 <xref:System.ServiceModel.Description.IContractBehaviorAttribute>，这会将其使用绑定到 `ISampleService` 协定。</span><span class="sxs-lookup"><span data-stu-id="4a017-173">It also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute>, which binds its use to the `ISampleService` contract.</span></span>  
  
 [!code-csharp[IContractBehavior#2](~/samples/snippets/csharp/VS_Snippets_CFX/icontractbehavior/cs/objectproviderbehavior.cs#2)]
 [!code-vb[IContractBehavior#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/icontractbehavior/vb/objectproviderbehavior.vb#2)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Validate">
      <MemberSignature Language="C#" Value="public void Validate (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Validate(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.Validate(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Validate(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
      </Parameters>
      <Docs>
        <param name="contractDescription"><span data-ttu-id="4a017-174">要验证的协定。</span><span class="sxs-lookup"><span data-stu-id="4a017-174">The contract to validate.</span></span></param>
        <param name="endpoint"><span data-ttu-id="4a017-175">要验证的终结点。</span><span class="sxs-lookup"><span data-stu-id="4a017-175">The endpoint to validate.</span></span></param>
        <summary><span data-ttu-id="4a017-176">实现此方法可以确认协定和终结点是否支持协定行为。</span><span class="sxs-lookup"><span data-stu-id="4a017-176">Implement to confirm that the contract and endpoint can support the contract behavior.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a017-177">实现 <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> 方法可以确认协定说明是否足以支持自定义协定行为。</span><span class="sxs-lookup"><span data-stu-id="4a017-177">Implement the <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> method to confirm that the contract description is sufficient to support the custom contract behavior.</span></span> <span data-ttu-id="4a017-178">实现可以在检查该说明后不引发异常或返回任何值。</span><span class="sxs-lookup"><span data-stu-id="4a017-178">Implementations can inspect the description and either throw or return no value.</span></span>  
  
 <span data-ttu-id="4a017-179">对于使用指定服务协定的每个终结点，都将对其调用一次此方法。</span><span class="sxs-lookup"><span data-stu-id="4a017-179">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>