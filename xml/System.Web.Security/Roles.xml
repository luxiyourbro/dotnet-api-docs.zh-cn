<Type Name="Roles" FullName="System.Web.Security.Roles">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="7294af485a090712d17ab407ed80a685c229f77c" />
    <Meta Name="ms.sourcegitcommit" Value="5a49536d99d2d0b54e4cb7280870903e043272df" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-CN" />
    <Meta Name="ms.lasthandoff" Value="07/03/2018" />
    <Meta Name="ms.locfileid" Value="37545014" />
  </Metadata>
  <TypeSignature Language="C#" Value="public static class Roles" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract sealed beforefieldinit Roles extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Web.Security.Roles" />
  <TypeSignature Language="VB.NET" Value="Public Class Roles" />
  <TypeSignature Language="C++ CLI" Value="public ref class Roles abstract sealed" />
  <TypeSignature Language="F#" Value="type Roles = class" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Manages user membership in roles for authorization checking in an ASP.NET application. This class cannot be inherited.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 ASP.NET 角色管理，可管理你的应用程序基于组的用户，称为角色的授权。 通过将用户分配到角色，可以控制对不同的部分或功能的 Web 应用程序根据角色而不是，或扩充，访问指定基于用户名的授权。 例如，员工应用程序可能具有角色管理器、 员工、 控制器和等等，例如为每个角色都指定了不同的权限。  
  
 用户可以属于多个角色。 例如，如果您的网站是一个论坛，某些用户可能是角色的成员和版主。 可以定义要在站点上，具有不同权限的每个角色，在这两个角色的用户就这两种权限集。  
  
 若要启用角色管理 ASP.NET 应用程序，使用的元素`system.web`部分应用程序中，在 Web.config 文件中，如以下示例所示。  
  
```  
<configuration>  
  <connectionStrings>  
    <add name="SqlServices" connectionString="Data Source=localhost;Initial Catalog=aspnetdb;Integrated Security=SSPI;" />  
  </connectionStrings>  
  
  <system.web>  
    <authentication mode="Forms" >  
      <forms loginUrl="login.aspx"  
      name=".ASPXFORMSAUTH" />  
    </authentication>  
  
  <roleManager defaultProvider="SqlProvider"   
    enabled="true"  
    cacheRolesInCookie="true"  
    cookieName=".ASPROLES"  
    cookieTimeout="30"  
    cookiePath="/"  
    cookieRequireSSL="false"  
    cookieSlidingExpiration="true"  
    cookieProtection="All" >  
    <providers>  
      <add  
        name="SqlProvider"  
        type="System.Web.Security.SqlRoleProvider"  
        connectionStringName="SqlServices"  
        applicationName="SampleApplication" />  
      </providers>  
    </roleManager>  
  </system.web>  
</configuration>  
```  
  
 在 Web 应用程序的配置文件中或以编程方式在代码中，可以指定授权规则。 例如，Web.config 文件中的以下节要求用户 （通过拒绝匿名用户），登录，然后仅允许用户具有访问权限的管理员角色中。  
  
```  
<authorization>  
  <deny users="?" />  
  <allow roles="Administrators" />  
  <deny users="*" />  
</authorization>  
```  
  
 如果使用`authorization`中应用程序的 Web.config 文件以指定基于应用程序的用户的角色的授权部分必须提供身份验证的用户标识。 您可以通过使用 Windows 或 Forms 身份验证对用户进行身份验证。 无法将匿名用户分配到角色。 独立于或与 ASP.NET 结合使用，可以使用角色<xref:System.Web.Security.Membership>类。  
  
 若要以编程方式验证角色的成员身份，可以使用<xref:System.Web.Security.Roles>类或<xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType>具有属性<xref:System.Web.Security.Roles.IsUserInRole%2A>方法，也可以使用<xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType>具有属性<xref:System.Security.Principal.IPrincipal.IsInRole%2A?displayProperty=nameWithType>方法。 有关示例代码，用于以编程方式检查角色成员身份，请参阅本主题中的示例部分。  
  
 <xref:System.Web.Security.Roles>类还使您可以创建和删除角色以及将用户添加到或从角色中删除用户。  
  
> [!NOTE]
>  如果已配置应用程序以使用<xref:System.Web.Security.WindowsTokenRoleProvider>类，不能修改角色或角色成员身份。 <xref:System.Web.Security.WindowsTokenRoleProvider>仅 classverifies 成员身份在 Windows 安全组。 在这种情况下，必须使用 Windows 用户帐户管理而不是 ASP.NET 角色可以创建和删除组以及管理组成员身份。  
  
 可以将角色信息存储在多个数据源。  
  
-   可以使用<xref:System.Web.Security.WindowsTokenRoleProvider>类，以检索其角色信息基于 Windows 组的成员身份。  
  
-   通过使用存储在 SQL Server 数据库角色信息<xref:System.Web.Security.SqlRoleProvider>类。  
  
-   如果有现有的角色信息，或者想要存储中的角色信息和从 Windows、 授权存储或 SQL Server 以外的数据源中检索角色信息，则可以通过创建类继承实现自定义角色提供程序<xref:System.Web.Security.RoleProvider>抽象类。 有关详细信息，请参阅[实现角色提供程序](http://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d)。  
  
 如果用户的浏览器接受 cookie，您可以在用户的计算机上的 cookie 中存储为该用户的角色信息。 对于每个页请求，ASP.NET 从 cookie 读取该用户的角色信息。 这可以通过减少通信所需的数据源检索其角色信息的量来提高应用程序性能。 如果用户的角色信息太长，若要存储在一个 cookie，ASP.NET 将只是最近使用的角色信息存储在 cookie 中，并随后查找所需的数据源中的其他角色信息。 如果用户的浏览器不支持 cookie，或者禁用了 cookie，角色信息不会缓存在 cookie 中。  
  
 您可以提高可靠性的在 cookie 中缓存通过指定的角色名称<xref:System.Web.Security.Roles.CookieProtectionValue%2A>属性配置 ASP.NET 角色时。 默认值<xref:System.Web.Security.Roles.CookieProtectionValue%2A>是`All`，该加密 cookie 中的角色名称和验证的 cookie 内容不被更改。  
  
   
  
## Examples  
 下面的示例演示配置为使用 ASP.NET 成员资格和 ASP.NET 角色和要使用的应用程序的 Web.config 文件<xref:System.Web.Security.SqlRoleProvider>来存储 SQL Server 数据库中的成员资格和角色信息。 只有管理员角色中的用户允许访问应用程序和用户进行身份验证与窗体身份验证。  
  
```  
<configuration>  
  <connectionStrings>  
    <add name="SqlServices" connectionString="Data Source=localhost;Initial Catalog=aspnetdb;Integrated Security=SSPI;" />  
  </connectionStrings>  
  
  <system.web>  
    <authentication mode="Forms" >  
      <forms loginUrl="login.aspx"  
      name=".ASPXFORMSAUTH" />  
    </authentication>  
  
    <authorization>  
      <deny users="?" />  
      <allow roles="Administrators" />  
      <deny users="*" />  
    </authorization>  
  
    <membership defaultProvider="AspNetSqlProvider" userIsOnlineTimeWindow="15">  
    </membership>  
  
    <roleManager defaultProvider="SqlProvider"   
      enabled="true"  
      cacheRolesInCookie="true"  
      cookieName=".ASPROLES"  
      cookieTimeout="30"  
      cookiePath="/"  
      cookieRequireSSL="true"  
      cookieSlidingExpiration="true"  
      cookieProtection="All" >  
  
      <providers>  
        <clear />  
        <add  
          name="SqlProvider"  
          type="System.Web.Security.SqlRoleProvider"  
          connectionStringName="SqlServices"  
          applicationName="SampleApplication" />  
        </providers>  
  
    </roleManager>  
  </system.web>  
</configuration>  
```  
  
 下面的代码示例以编程方式检查登录的用户是否属于管理员角色允许用户查看其他用户的角色之前。  
  
  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="AddUsersToRole">
      <MemberSignature Language="C#" Value="public static void AddUsersToRole (string[] usernames, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUsersToRole(string[] usernames, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUsersToRole(System.String[],System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUsersToRole (usernames As String(), roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUsersToRole(cli::array &lt;System::String ^&gt; ^ usernames, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member AddUsersToRole : string[] * string -&gt; unit" Usage="System.Web.Security.Roles.AddUsersToRole (usernames, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="usernames">A string array of user names to add to the specified role.</param>
        <param name="roleName">The role to add the specified user names to.</param>
        <summary>Adds the specified users to the specified role.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.AddUsersToRole%2A>方法调用将指定的用户与数据源的指定角色关联的默认角色提供程序。  
  
 如果应用程序使用<xref:System.Web.Security.SqlRoleProvider>类，在调用期间执行数据库更新<xref:System.Web.Security.SqlRoleProvider.AddUsersToRoles%2A>方法将在事务内完成。 如果遇到错误，如已在指定的角色的用户名，回滚事务并不执行任何更新。  
  
> [!NOTE]
>  用户名称和角色名称不能包含逗号。  
  
   
  
## Examples  
 下面的代码示例将一个或多个用户添加到角色，或从基于用户输入的角色中删除用户。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.  -or-  One of the elements in <paramref name="usernames" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).  -or-  One of the elements in <paramref name="usernames" /> is an empty string or contains a comma (,).  -or-  <paramref name="usernames" /> contains a duplicate element.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="AddUsersToRoles">
      <MemberSignature Language="C#" Value="public static void AddUsersToRoles (string[] usernames, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUsersToRoles(string[] usernames, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUsersToRoles(System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUsersToRoles (usernames As String(), roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUsersToRoles(cli::array &lt;System::String ^&gt; ^ usernames, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member AddUsersToRoles : string[] * string[] -&gt; unit" Usage="System.Web.Security.Roles.AddUsersToRoles (usernames, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="usernames">A string array of user names to add to the specified roles.</param>
        <param name="roleNames">A string array of role names to add the specified user names to.</param>
        <summary>Adds the specified users to the specified roles.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.AddUsersToRoles%2A>方法调用将指定的用户与数据源的指定角色关联的默认角色提供程序。  
  
 如果应用程序使用<xref:System.Web.Security.SqlRoleProvider>类，在调用期间执行数据库更新<xref:System.Web.Security.SqlRoleProvider.AddUsersToRoles%2A>方法将在事务内完成。 如果遇到错误，如已在指定的角色的用户名，回滚事务并不执行任何更新。  
  
> [!NOTE]
>  用户名称和角色名称不能包含逗号。  
  
   
  
## Examples  
 下面的代码示例将一个或多个用户添加到一个或多个角色。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/adduserstorolescs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.Roles#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/adduserstorolesvb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">One of the roles in <paramref name="roleNames" /> is <see langword="null" />.  -or-  One of the users in <paramref name="usernames" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">One of the roles in <paramref name="roleNames" /> is an empty string or contains a comma (,).  -or-  One of the users in <paramref name="usernames" /> is an empty string or contains a comma (,).  -or-  <paramref name="roleNames" /> contains a duplicate element.  -or-  <paramref name="usernames" /> contains a duplicate element.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="AddUserToRole">
      <MemberSignature Language="C#" Value="public static void AddUserToRole (string username, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUserToRole(string username, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUserToRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUserToRole (username As String, roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUserToRole(System::String ^ username, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member AddUserToRole : string * string -&gt; unit" Usage="System.Web.Security.Roles.AddUserToRole (username, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username">The user name to add to the specified role.</param>
        <param name="roleName">The role to add the specified user name to.</param>
        <summary>Adds the specified user to the specified role.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.AddUserToRole%2A>方法调用以将指定的用户与数据源中指定的角色相关联的默认角色提供程序。  
  
> [!NOTE]
>  用户名称和角色名称不能包含逗号。  
  
   
  
## Examples  
 下面的代码示例将用户添加到角色。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/addusertorolecs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.Roles#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/addusertorolevb.aspx#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.  -or-  <paramref name="username" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).  -or-  <paramref name="username" /> is an empty string or contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.  -or-  User is already assigned to the specified role.</exception>
      </Docs>
    </Member>
    <Member MemberName="AddUserToRoles">
      <MemberSignature Language="C#" Value="public static void AddUserToRoles (string username, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUserToRoles(string username, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUserToRoles(System.String,System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUserToRoles (username As String, roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUserToRoles(System::String ^ username, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member AddUserToRoles : string * string[] -&gt; unit" Usage="System.Web.Security.Roles.AddUserToRoles (username, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="username">The user name to add to the specified roles.</param>
        <param name="roleNames">A string array of roles to add the specified user name to.</param>
        <summary>Adds the specified user to the specified roles.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.AddUserToRoles%2A>方法调用以将指定的用户与数据源的指定角色相关联的默认角色提供程序。  
  
 如果应用程序使用<xref:System.Web.Security.SqlRoleProvider>类，在调用期间执行数据库更新<xref:System.Web.Security.Roles.AddUserToRoles%2A>方法将在事务内完成。 如果遇到错误，如已在指定的角色的用户名，回滚事务并不执行任何更新。  
  
> [!NOTE]
>  用户名称和角色名称不能包含逗号。  
  
   
  
## Examples  
 下面的代码示例将用户添加到一个或多个角色。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/addusertorolescs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.Roles#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/addusertorolesvb.aspx#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">One of the roles in <paramref name="roleNames" /> is <see langword="null" />.  -or-  <paramref name="username" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">One of the roles in <paramref name="roleNames" /> is an empty string or contains a comma (,).  -or-  <paramref name="username" /> is an empty string or contains a comma (,).  -or-  <paramref name="roleNames" /> contains a duplicate element.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public static string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public Shared Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.Security.Roles.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets or sets the name of the application to store and retrieve role information for.</summary>
        <value>要存储和检索其角色信息的应用程序的名称。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.ApplicationName%2A>属性由<xref:System.Web.Security.Roles>类，以将用户和角色与不同的应用程序相关联。 这允许多个应用程序使用相同的数据源存储用户和角色信息，而不重复的用户名称或重复的角色名称之间发生冲突。 多个 ASP.NET 应用程序可以通过指定相同的值中使用相同的数据源<xref:System.Web.Security.Roles.ApplicationName%2A>属性。 可以设置<xref:System.Web.Security.Roles.ApplicationName%2A>属性以编程方式，也可以设置它以声明方式在 Web 应用程序的配置文件中使用`applicationName`属性。  
  
 如果使用 Web 应用程序<xref:System.Web.Security.SqlRoleProvider>类和一个值，没有为指定`applicationName`配置文件中的属性<xref:System.Web.HttpRequest.ApplicationPath%2A?displayProperty=nameWithType>属性值为当前<xref:System.Web.HttpContext.Request%2A?displayProperty=nameWithType>使用属性。  
  
> [!CAUTION]
>  因为所有服务的请求使用单个默认角色提供程序实例<xref:System.Web.HttpApplication>对象，可以有多个请求同时执行，并尝试设置<xref:System.Web.Security.Roles.ApplicationName%2A>属性值。 <xref:System.Web.Security.Roles.ApplicationName%2A>属性不是线程安全的多个写入操作，且不断变化<xref:System.Web.Security.Roles.ApplicationName%2A>属性值可能会导致多个用户的应用程序的意外行为。 应避免编写代码，以允许用户设置<xref:System.Web.Security.Roles.ApplicationName%2A>属性，除非有要求。 应用程序的示例情况<xref:System.Web.Security.Roles.ApplicationName%2A>属性可能需要是管理应用程序，用于管理角色的多个应用程序的数据。 此类应用程序应在单用户应用程序并不是 Web 应用程序。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`applicationName`属性为`MyApplication`。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="All" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CacheRolesInCookie">
      <MemberSignature Language="C#" Value="public static bool CacheRolesInCookie { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CacheRolesInCookie" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CacheRolesInCookie" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CacheRolesInCookie As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CacheRolesInCookie { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CacheRolesInCookie : bool" Usage="System.Web.Security.Roles.CacheRolesInCookie" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets a value indicating whether the current user's roles are cached in a cookie.</summary>
        <value>
          <see langword="true" /> 如果当前用户的角色已缓存在 cookie;，否则为<see langword="false" />。 默认值为 <see langword="true" />。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 当<xref:System.Web.Security.Roles.CacheRolesInCookie%2A>属性设置为`true`在 Web.config 文件中，每个用户的角色信息存储在 cookie 中。 当角色管理检查以确定用户是否属于特定角色时，角色 cookie 将检查之前的角色提供程序调用以检查数据源中的角色列表。 Cookie 将动态更新来缓存最近已验证的角色名称。  
  
 您可以提高可靠性的在 cookie 中缓存通过指定的角色名称<xref:System.Web.Security.Roles.CookieProtectionValue%2A>属性配置 ASP.NET 角色时。 默认值<xref:System.Web.Security.Roles.CookieProtectionValue%2A>是`All`，该加密 cookie 中的角色名称和验证的 cookie 内容不被更改。  
  
> [!NOTE]
>  因为除了数据源，可以缓存角色名称，就可以在数据源的角色管理的更改不会反映在缓存的值。 在这种情况下，用户必须关闭并重新打开其浏览器清除缓存的 cookie 值。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`cacheRolesInCookie`属性为`true`。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="All" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
   </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CookieName">
      <MemberSignature Language="C#" Value="public static string CookieName { get; }" />
      <MemberSignature Language="ILAsm" Value=".property string CookieName" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieName" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ CookieName { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieName : string" Usage="System.Web.Security.Roles.CookieName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets the name of the cookie where role names are cached.</summary>
        <value>在其中缓存角色名称的 Cookie 的名称。 默认值是 .ASPXROLES。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 可以为应用程序指定在其中缓存角色的 cookie 的名称，通过设置`cookieName`ASP.NET 应用程序的 Web.config 文件中的属性。 如果想要唯一标识你的应用程序的 cookie 或 cookie 共享跨多个应用程序，例如域 cookie 时，这非常有用。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`cookieName`属性。ASPROLES。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="All" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CookiePath">
      <MemberSignature Language="C#" Value="public static string CookiePath { get; }" />
      <MemberSignature Language="ILAsm" Value=".property string CookiePath" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookiePath" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookiePath As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ CookiePath { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.CookiePath : string" Usage="System.Web.Security.Roles.CookiePath" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets the path for the cached role names cookie.</summary>
        <value>在其中缓存角色名称的 Cookie 的路径。 默认值是 /。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 可以为应用程序指定在其中缓存角色 cookie 的路径，通过设置`cookiePath`ASP.NET 应用程序的 Web.config 文件中的属性。 Cookie 路径的详细信息，请参阅<xref:System.Web.HttpCookie.Path%2A>。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`cookiePath`/MyApplication 属性。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/MyApplication"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="All" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CookieProtectionValue">
      <MemberSignature Language="C#" Value="public static System.Web.Security.CookieProtection CookieProtectionValue { get; }" />
      <MemberSignature Language="ILAsm" Value=".property valuetype System.Web.Security.CookieProtection CookieProtectionValue" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieProtectionValue" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieProtectionValue As CookieProtection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::Web::Security::CookieProtection CookieProtectionValue { System::Web::Security::CookieProtection get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieProtectionValue : System.Web.Security.CookieProtection" Usage="System.Web.Security.Roles.CookieProtectionValue" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.Security.CookieProtection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets a value that indicates how role names cached in a cookie are protected.</summary>
        <value>其中一个<see cref="T:System.Web.Security.CookieProtection" />枚举值，该值指示如何保护在 cookie 中缓存的角色名称。 默认值为 <see langword="All" />。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 可以通过设置为应用程序指定在其中缓存角色 cookie 的保护`cookieProtection`ASP.NET 应用程序的 Web.config 文件中的属性。 `cookieProtection`属性采用<xref:System.Web.Security.CookieProtection>枚举值，该值指示是否已加密的角色名称，验证，同时，还是两者皆否。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`cookieProtection`属性为`Encrypted`。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/MyApplication"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="Encrypted" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CookieRequireSSL">
      <MemberSignature Language="C#" Value="public static bool CookieRequireSSL { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CookieRequireSSL" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieRequireSSL" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieRequireSSL As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CookieRequireSSL { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieRequireSSL : bool" Usage="System.Web.Security.Roles.CookieRequireSSL" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets a value indicating whether the role names cookie requires SSL in order to be returned to the server.</summary>
        <value>
          <see langword="true" /> 如果 SSL 所需角色名称 cookie 返回到服务器;否则为<see langword="false" />。 默认值为 <see langword="false" />。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 您可以指定是否需要 SSL （安全套接字层） 才能通过设置角色名称 cookie 返回到你的应用程序中的服务器`cookieRequireSSL`ASP.NET 应用程序的 Web.config 文件中的属性。 有关详细信息，请参阅<xref:System.Web.HttpCookie.Secure%2A>。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`cookieRequireSSL`到`true`。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/MyApplication"  
  cookieRequireSSL="true"  
  cookieSlidingExpiration="true"  
  cookieProtection="Encrypted" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CookieSlidingExpiration">
      <MemberSignature Language="C#" Value="public static bool CookieSlidingExpiration { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CookieSlidingExpiration" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieSlidingExpiration" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieSlidingExpiration As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CookieSlidingExpiration { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieSlidingExpiration : bool" Usage="System.Web.Security.Roles.CookieSlidingExpiration" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Indicates whether the role names cookie expiration date and time will be reset periodically.</summary>
        <value>
          <see langword="true" /> 如果角色名称 cookie 的到期日期和时间定期重置;否则为<see langword="false" />。 默认值为 <see langword="true" />。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 可以指定是否角色名称 cookie 的到期日期和时间将重置每个响应使用`cookieSlidingExpiration`ASP.NET 应用程序的 Web.config 文件中的属性。 如果`true`，cookie 到期时间最初将设置为当前日期和时间加上<xref:System.Web.Security.Roles.CookieTimeout%2A>以分钟为单位。 虽然用户可以继续主动使用 ASP.NET 应用程序，到期日期和时间的 cookie 将自动刷新如果没有不到一半的<xref:System.Web.Security.Roles.CookieTimeout%2A>剩余。 有关更多信息，请参见 <xref:System.Web.HttpCookie.Expires%2A> 属性。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置<xref:System.Web.Security.Roles.CookieSlidingExpiration%2A>属性设置为`false`。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/MyApplication"  
  cookieRequireSSL="true"  
  cookieSlidingExpiration="false"  
  cookieProtection="Encrypted" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CookieTimeout">
      <MemberSignature Language="C#" Value="public static int CookieTimeout { get; }" />
      <MemberSignature Language="ILAsm" Value=".property int32 CookieTimeout" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieTimeout" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieTimeout As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property int CookieTimeout { int get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieTimeout : int" Usage="System.Web.Security.Roles.CookieTimeout" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets the number of minutes before the roles cookie expires.</summary>
        <value>指定角色 Cookie 到期前的分钟数的整数。 默认值为 30 分钟。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.CookieTimeout%2A>使用属性时<xref:System.Web.Security.Roles.CookieSlidingExpiration%2A>属性是`true`，并在角色 cookie 的几分钟内指定生存时间。 若要设置<xref:System.Web.Security.Roles.CookieTimeout%2A>值，请添加`cookieTimeout`属性为 ASP.NET 应用程序的 Web.config 文件中的元素，并指定一个整数值。  
  
 如果<xref:System.Web.Security.Roles.CookieSlidingExpiration%2A>是`false`，将忽略此属性。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置<xref:System.Web.Security.Roles.CookieTimeout%2A>属性设置为 30 分钟。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/MyApplication"  
  cookieRequireSSL="true"  
  cookieSlidingExpiration="true"  
  cookieProtection="Encrypted" >  
  <providers>  
  <add  
    name="SqlProvider"  
    type="System.Web.Security.SqlRoleProvider"  
    connectionStringName="SqlServices"  
    applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreatePersistentCookie">
      <MemberSignature Language="C#" Value="public static bool CreatePersistentCookie { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CreatePersistentCookie" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CreatePersistentCookie" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CreatePersistentCookie As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CreatePersistentCookie { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CreatePersistentCookie : bool" Usage="System.Web.Security.Roles.CreatePersistentCookie" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets a value indicating whether the role-names cookie is session-based or persistent.</summary>
        <value>
          <see langword="true" /> 如果角色名称 cookie 是持久性 cookie;否则为<see langword="false" />。 默认值为 <see langword="false" />。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.CreatePersistentCookie%2A> ASP.NET 应用程序中使用的配置中设置属性值`createPersistentCookie`配置元素的属性。  
  
 当`false`、 角色名称 cookie 是会话 cookie、 浏览器关闭时将 cookie，即会丢失。 当`true`，角色名称 cookie 是持久性 cookie，可跨多个浏览器会话。 永久 cookie 的到期日期和时间设置为当前日期和时间加上<xref:System.Web.Security.Roles.CookieTimeout%2A>以分钟为单位的值。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateRole">
      <MemberSignature Language="C#" Value="public static void CreateRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void CreateRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.CreateRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub CreateRole (roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void CreateRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member CreateRole : string -&gt; unit" Usage="System.Web.Security.Roles.CreateRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName">The name of the role to create.</param>
        <summary>Adds a new role to the data source.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.CreateRole%2A>方法将角色名称添加到数据源。 <xref:System.Web.Security.Roles.CreateRole%2A> 调用<xref:System.Web.Security.RoleProvider.CreateRole%2A>方法将指定的角色添加到数据源的默认角色提供程序。  
  
> [!NOTE]
>  角色名称不能包含逗号。  
  
   
  
## Examples  
 下面的代码示例中的数据源创建新的角色。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
> [!IMPORTANT]
>  此示例包含一个文本框，用于接受用户输入，这是一个潜在的安全威胁。 默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。 有关详细信息，请参阅[脚本侵入概述](http://msdn.microsoft.com/library/772c7312-211a-4eb3-8d6e-eec0aa1dcc07)。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string.  -or-  <paramref name="roleName" /> contains a comma.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="DeleteCookie">
      <MemberSignature Language="C#" Value="public static void DeleteCookie ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void DeleteCookie() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.DeleteCookie" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub DeleteCookie ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void DeleteCookie();" />
      <MemberSignature Language="F#" Value="static member DeleteCookie : unit -&gt; unit" Usage="System.Web.Security.Roles.DeleteCookie " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Deletes the cookie where role names are cached.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.DeleteCookie%2A>方法将清除用于缓存角色名称 cookie 的内容。 缓存角色名称的详细信息，请参阅<xref:System.Web.Security.Roles.CacheRolesInCookie%2A>。  
  
   
  
## Examples  
 下面的代码示例调用<xref:System.Web.Security.Roles.DeleteCookie%2A>方法清除任何缓存角色名称的用户登录时。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
> [!IMPORTANT]
>  此示例包含一个文本框，用于接受用户输入，这是一个潜在的安全威胁。 默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。 有关详细信息，请参阅[脚本侵入概述](http://msdn.microsoft.com/library/772c7312-211a-4eb3-8d6e-eec0aa1dcc07)。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#5](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/logincs.aspx#5)]
 [!code-aspx-vb[System.Web.Security.Roles#5](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/loginvb.aspx#5)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="DeleteRole">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>Removes a role from the data source.</summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DeleteRole">
      <MemberSignature Language="C#" Value="public static bool DeleteRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool DeleteRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.DeleteRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function DeleteRole (roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool DeleteRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member DeleteRole : string -&gt; bool" Usage="System.Web.Security.Roles.DeleteRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName">The name of the role to delete.</param>
        <summary>Removes a role from the data source.</summary>
        <returns>
          <see langword="true" /> if <paramref name="roleName" /> was deleted from the data source; otherwise, <see langword="false" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.DeleteRole%2A>方法从数据源中删除角色名称。 <xref:System.Web.Security.Roles.DeleteRole%2A> 调用<xref:System.Web.Security.RoleProvider.DeleteRole%2A>要从数据源中删除指定的角色的默认角色提供程序的方法。  
  
 如果通过标识的角色`roleName`参数具有一个或多个成员，则将引发异常并不会删除此角色。  
  
   
  
## Examples  
 下面的代码示例从数据源中删除一个角色。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/deleterolecs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/deleterolevb.aspx#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">
          <paramref name="roleName" /> has one or more members.  -or-  Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="DeleteRole">
      <MemberSignature Language="C#" Value="public static bool DeleteRole (string roleName, bool throwOnPopulatedRole);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool DeleteRole(string roleName, bool throwOnPopulatedRole) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.DeleteRole(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function DeleteRole (roleName As String, throwOnPopulatedRole As Boolean) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool DeleteRole(System::String ^ roleName, bool throwOnPopulatedRole);" />
      <MemberSignature Language="F#" Value="static member DeleteRole : string * bool -&gt; bool" Usage="System.Web.Security.Roles.DeleteRole (roleName, throwOnPopulatedRole)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
        <Parameter Name="throwOnPopulatedRole" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="roleName">The name of the role to delete.</param>
        <param name="throwOnPopulatedRole">If <see langword="true" />, throws an exception if <c>roleName</c> has one or more members.</param>
        <summary>Removes a role from the data source.</summary>
        <returns>
          <see langword="true" /> if <paramref name="roleName" /> was deleted from the data source; otherwise; <see langword="false" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.DeleteRole%2A>方法从数据源中删除角色名称。 <xref:System.Web.Security.Roles.DeleteRole%2A> 调用<xref:System.Web.Security.RoleProvider.DeleteRole%2A>要从数据源中删除指定的角色的默认角色提供程序的方法。  
  
 如果`throwOnPopulatedRole`是`true`，然后将引发异常并通过标识的角色不会删除此角色`roleName`参数具有一个或多个成员。 如果`throwOnPopulatedRole`是`false`，则将删除该角色，或不为空。  
  
   
  
## Examples  
 下面的代码示例从数据源中删除一个角色。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/deleterolecs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/deleterolevb.aspx#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">
          <paramref name="roleName" /> has one or more members and <paramref name="throwOnPopulatedRole" /> is <see langword="true" />.  -or-  Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="Domain">
      <MemberSignature Language="C#" Value="public static string Domain { get; }" />
      <MemberSignature Language="ILAsm" Value=".property string Domain" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Domain" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property Domain As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ Domain { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Domain : string" Usage="System.Web.Security.Roles.Domain" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets the value of the domain of the role-names cookie.</summary>
        <value>
          <see cref="P:System.Web.HttpCookie.Domain" />角色名称 cookie。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.Domain%2A> ASP.NET 应用程序中使用的配置中设置属性值`domain`配置元素的属性。  
  
 如果域的属性，在配置中不指定任何值<xref:System.Web.Security.Roles.Domain%2A>属性返回`null`和行为的默认角色名称 cookie 域<xref:System.Web.HttpCookie><xref:System.Web.HttpCookie.Domain%2A>属性。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Enabled">
      <MemberSignature Language="C#" Value="public static bool Enabled { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property bool Enabled" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Enabled" />
      <MemberSignature Language="VB.NET" Value="Public Shared Property Enabled As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool Enabled { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.Enabled : bool with get, set" Usage="System.Web.Security.Roles.Enabled" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets or sets a value indicating whether role management is enabled for the current Web application.</summary>
        <value>
          <see langword="true" /> 如果启用了角色管理;否则为<see langword="false" />。 默认值为 <see langword="false" />。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`enabled`属性为`true`。  
  
```  
<roleManager defaultProvider="SqlProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="All" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.SqlRoleProvider"  
      connectionStringName="SqlServices"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="FindUsersInRole">
      <MemberSignature Language="C#" Value="public static string[] FindUsersInRole (string roleName, string usernameToMatch);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] FindUsersInRole(string roleName, string usernameToMatch) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.FindUsersInRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function FindUsersInRole (roleName As String, usernameToMatch As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ FindUsersInRole(System::String ^ roleName, System::String ^ usernameToMatch);" />
      <MemberSignature Language="F#" Value="static member FindUsersInRole : string * string -&gt; string[]" Usage="System.Web.Security.Roles.FindUsersInRole (roleName, usernameToMatch)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
        <Parameter Name="usernameToMatch" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName">The role to search in.</param>
        <param name="usernameToMatch">The user name to search for.</param>
        <summary>Gets a list of users in a specified role where the user name contains the specified user name to match.</summary>
        <returns>A string array containing the names of all the users whose user name matches <paramref name="usernameToMatch" /> and who are members of the specified role.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.FindUsersInRole%2A> 返回其中用户名包含所提供的匹配项的角色中的用户列表`usernameToMatch`已配置的`applicationName`。 例如，如果`usernameToMatch`参数设置为"user，"则用户"user1"，"user2""user3，"并返回等等。 按字母顺序返回用户的用户名。  
  
 <xref:System.Web.Security.SqlRoleProvider>执行使用 LIKE 子句对其搜索`usernameToMatch`参数。 SQL Server 等子句可用于支持任何通配符`usernameToMatch`参数值。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.FindUsersInRole%2A>方法来显示角色成员身份基于用户输入。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
> [!IMPORTANT]
>  此示例包含一个文本框，用于接受用户输入，这是一个潜在的安全威胁。 默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。 有关详细信息，请参阅[脚本侵入概述](http://msdn.microsoft.com/library/772c7312-211a-4eb3-8d6e-eec0aa1dcc07)。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#11](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/FindUsersInRolecs.aspx#11)]
 [!code-aspx-vb[System.Web.Security.Roles#11](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/FindUsersInRolevb.aspx#11)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" /> (<see langword="Nothing" /> in Visual Basic).  -or-  <paramref name="usernameToMatch" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).  -or-  <paramref name="usernameToMatch" /> is an empty string.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="GetAllRoles">
      <MemberSignature Language="C#" Value="public static string[] GetAllRoles ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetAllRoles() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetAllRoles" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetAllRoles () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetAllRoles();" />
      <MemberSignature Language="F#" Value="static member GetAllRoles : unit -&gt; string[]" Usage="System.Web.Security.Roles.GetAllRoles " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Gets a list of all the roles for the application.</summary>
        <returns>A string array containing the names of all the roles stored in the data source for the application.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.GetAllRoles%2A>方法调用<xref:System.Web.Security.RoleProvider.GetAllRoles%2A?displayProperty=nameWithType>要从数据源中获取所有角色的列表，为应用程序的默认角色提供程序的方法。 仅在指定的应用程序的角色<xref:System.Web.Security.Roles.ApplicationName%2A>检索属性。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.GetAllRoles%2A>方法获取的应用程序角色的列表，并将绑定到结果<xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType>控件。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
> [!IMPORTANT]
>  此示例包含一个文本框，用于接受用户输入，这是一个潜在的安全威胁。 默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。 有关详细信息，请参阅[脚本侵入概述](http://msdn.microsoft.com/library/772c7312-211a-4eb3-8d6e-eec0aa1dcc07)。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetRolesForUser">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>Gets a list of the roles that a user is in.</summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetRolesForUser">
      <MemberSignature Language="C#" Value="public static string[] GetRolesForUser ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetRolesForUser() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetRolesForUser" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetRolesForUser () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetRolesForUser();" />
      <MemberSignature Language="F#" Value="static member GetRolesForUser : unit -&gt; string[]" Usage="System.Web.Security.Roles.GetRolesForUser " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Gets a list of the roles that the currently logged-on user is in.</summary>
        <returns>A string array containing the names of all the roles that the currently logged-on user is in.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.GetRolesForUser%2A>方法调用<xref:System.Web.Security.RoleProvider.GetRolesForUser%2A?displayProperty=nameWithType>方法的默认角色提供程序检索数据源中是当前登录的用户的角色。 当前登录的用户都由<xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType>属性与当前<xref:System.Web.HttpContext?displayProperty=nameWithType>，或由<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>适用于非 HTTP 宿主环境。 如果没有用户登录，则将引发异常。 仅在指定的应用程序的角色<xref:System.Web.Security.Roles.ApplicationName%2A>检索属性。  
  
 如果<xref:System.Web.Security.Roles.CacheRolesInCookie%2A>是`true`，然后的结果<xref:System.Web.Security.Roles.GetRolesForUser%2A>方法可能返回从角色中缓存，而不是指定的角色提供程序。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.GetRolesForUser%2A>方法以检索指定用户角色的列表并将绑定到返回的角色<xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType>控件。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.Roles#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/ViewRolesvb.aspx#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">There is no current logged-on user.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="GetRolesForUser">
      <MemberSignature Language="C#" Value="public static string[] GetRolesForUser (string username);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetRolesForUser(string username) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetRolesForUser(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetRolesForUser (username As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetRolesForUser(System::String ^ username);" />
      <MemberSignature Language="F#" Value="static member GetRolesForUser : string -&gt; string[]" Usage="System.Web.Security.Roles.GetRolesForUser username" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username">The user to return a list of roles for.</param>
        <summary>Gets a list of the roles that a user is in.</summary>
        <returns>A string array containing the names of all the roles that the specified user is in.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.GetRolesForUser%2A>方法调用<xref:System.Web.Security.RoleProvider.GetRolesForUser%2A?displayProperty=nameWithType>方法的默认角色提供程序检索数据源中的用户所属的角色的。 仅在指定的应用程序的角色<xref:System.Web.Security.Roles.ApplicationName%2A>检索属性。  
  
 如果`username`等同于当前登录的用户和<xref:System.Web.Security.Roles.CacheRolesInCookie%2A>是`true`，结果<xref:System.Web.Security.Roles.GetRolesForUser%2A>方法可能返回从角色中缓存而不是指定<xref:System.Web.Security.Roles.Provider%2A>。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.GetRolesForUser%2A>方法以检索指定用户角色的列表并将绑定到返回的角色<xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType>控件。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.Roles#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/ViewRolesvb.aspx#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="username" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="username" /> contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="GetUsersInRole">
      <MemberSignature Language="C#" Value="public static string[] GetUsersInRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetUsersInRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetUsersInRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetUsersInRole (roleName As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetUsersInRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member GetUsersInRole : string -&gt; string[]" Usage="System.Web.Security.Roles.GetUsersInRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName">The role to get the list of users for.</param>
        <summary>Gets a list of users in the specified role.</summary>
        <returns>A string array containing the names of all the users who are members of the specified role.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.GetUsersInRole%2A>方法调用<xref:System.Web.Security.RoleProvider.GetUsersInRole%2A>方法来检索与数据源中的角色关联的用户名称的默认角色提供程序。 仅在指定的应用程序的角色<xref:System.Web.Security.Roles.ApplicationName%2A>检索属性。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.GetUsersInRole%2A>方法以获取特定角色的用户的列表，并将绑定到结果<xref:System.Web.UI.WebControls.GridView>控件。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="IsUserInRole">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>Gets a value indicating whether a user is in the specified role.</summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="IsUserInRole">
      <MemberSignature Language="C#" Value="public static bool IsUserInRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool IsUserInRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.IsUserInRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function IsUserInRole (roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool IsUserInRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member IsUserInRole : string -&gt; bool" Usage="System.Web.Security.Roles.IsUserInRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName">The name of the role to search in.</param>
        <summary>Gets a value indicating whether the currently logged-on user is in the specified role. The API is only intended to be called within the context of an ASP.NET request thread, and in that sanctioned use case it is thread-safe.</summary>
        <returns>
          <see langword="true" /> if the currently logged-on user is in the specified role; otherwise, <see langword="false" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.IsUserInRole%2A>方法调用<xref:System.Web.Security.RoleProvider.IsUserInRole%2A?displayProperty=nameWithType>方法来确定当前登录的用户是否是从应用程序的数据源中指定的角色相关联的默认角色提供程序<xref:System.Web.Security.Roles.ApplicationName%2A>属性。 当前登录的用户都由<xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType>属性与当前<xref:System.Web.HttpContext?displayProperty=nameWithType>，或由<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>适用于非 HTTP 宿主环境。 如果没有用户登录，则将引发异常。 仅在指定的应用程序的角色<xref:System.Web.Security.Roles.ApplicationName%2A>检索属性。  
  
 如果<xref:System.Web.Security.Roles.CacheRolesInCookie%2A>是`true`，然后`roleName`可能会根据角色缓存，而不是指定的角色提供程序进行检查。  
  
   
  
## Examples  
 下面的代码示例以编程方式检查当前登录的用户是否为管理员角色允许用户查看应用程序的角色设置之前。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/ViewRolesvb.aspx#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.  -or-  There is no current logged-on user.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="IsUserInRole">
      <MemberSignature Language="C#" Value="public static bool IsUserInRole (string username, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool IsUserInRole(string username, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.IsUserInRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function IsUserInRole (username As String, roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool IsUserInRole(System::String ^ username, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member IsUserInRole : string * string -&gt; bool" Usage="System.Web.Security.Roles.IsUserInRole (username, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username">The name of the user to search for.</param>
        <param name="roleName">The name of the role to search in.</param>
        <summary>Gets a value indicating whether the specified user is in the specified role. The API is only intended to be called within the context of an ASP.NET request thread, and in that sanctioned use case it is thread-safe.</summary>
        <returns>
          <see langword="true" /> if the specified user is in the specified role; otherwise, <see langword="false" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.IsUserInRole%2A>方法调用<xref:System.Web.Security.RoleProvider.IsUserInRole%2A>方法来确定用户名称是否与数据源的应用程序中指定的角色相关联的默认角色提供程序<xref:System.Web.Security.Roles.ApplicationName%2A>属性。  
  
 如果`username`等同于当前登录的用户和<xref:System.Web.Security.Roles.CacheRolesInCookie%2A>属性值是`true`，`roleName`可能会根据角色缓存而不是指定检查<xref:System.Web.Security.Roles.Provider%2A>。  
  
   
  
## Examples  
 下面的代码示例以编程方式检查用户是否为管理员角色允许用户查看应用程序的角色设置之前。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/ViewRolesvb.aspx#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.  -or-  <paramref name="username" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).  -or-  <paramref name="username" /> contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="MaxCachedResults">
      <MemberSignature Language="C#" Value="public static int MaxCachedResults { get; }" />
      <MemberSignature Language="ILAsm" Value=".property int32 MaxCachedResults" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.MaxCachedResults" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property MaxCachedResults As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property int MaxCachedResults { int get(); };" />
      <MemberSignature Language="F#" Value="member this.MaxCachedResults : int" Usage="System.Web.Security.Roles.MaxCachedResults" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets the maximum number of role names to be cached for a user.</summary>
        <value>要为用户缓存的角色名称的最大数量。 默认值为 25。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.MaxCachedResults%2A>属性使用设置`maxCachedResults`配置特性。 值`maxCachedResults`配置特性必须设置为一个整数值大于零。  
  
   
  
## Examples  
 下面的示例演示中的元素`system.web`的 ASP.NET 应用程序的 Web.config 文件部分。 它指定应用程序使用<xref:System.Web.Security.SqlRoleProvider>实例并设置`maxCachedResults`属性为 10。  
  
```  
<roleManager  
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="All"   
  maxCachedResults="10" />  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Provider">
      <MemberSignature Language="C#" Value="public static System.Web.Security.RoleProvider Provider { get; }" />
      <MemberSignature Language="ILAsm" Value=".property class System.Web.Security.RoleProvider Provider" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Provider" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property Provider As RoleProvider" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::Web::Security::RoleProvider ^ Provider { System::Web::Security::RoleProvider ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Provider : System.Web.Security.RoleProvider" Usage="System.Web.Security.Roles.Provider" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.Security.RoleProvider</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets the default role provider for the application.</summary>
        <value>应用程序，作为继承的类公开的默认角色提供程序<see cref="T:System.Web.Security.RoleProvider" />抽象类。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.Provider%2A>属性使您能够直接引用应用程序的默认角色提供程序。 这常用于访问不属于的自定义成员的角色提供程序的一部分<xref:System.Web.Security.RoleProvider>抽象类。  
  
 例如，<xref:System.Web.Security.WindowsTokenRoleProvider>类包括的重载<xref:System.Web.Security.WindowsTokenRoleProvider.IsUserInRole%2A>方法，可用于确定用户是否是常见的 Windows 角色中使用<xref:System.Security.Principal.WindowsBuiltInRole>枚举值。 对引用<xref:System.Web.Security.WindowsTokenRoleProvider>类的应用程序可以通过使用来获取<xref:System.Web.Security.Roles.Provider%2A>属性并且可以强制转换为<xref:System.Web.Security.WindowsTokenRoleProvider>为了引用的<xref:System.Web.Security.WindowsTokenRoleProvider.IsUserInRole%2A>重载。  
  
 如果为应用程序配置了多个角色提供程序，则可以访问不同的角色提供程序使用<xref:System.Web.Security.Roles.Providers%2A>集合。  
  
   
  
## Examples  
 下面的代码示例将强制转换为的默认角色提供程序<xref:System.Web.Security.WindowsTokenRoleProvider>和检查当前登录的用户是否为管理员角色允许用户查看应用程序的角色设置之前。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.WindowsTokenRoleProvider>。  
  
 [!code-aspx-csharp[System.Web.Security.WindowsTokenRoleProvider#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.WindowsTokenRoleProvider/CS/ViewRoles2cs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.WindowsTokenRoleProvider#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.WindowsTokenRoleProvider/VB/ViewRoles2vb.aspx#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="Providers">
      <MemberSignature Language="C#" Value="public static System.Web.Security.RoleProviderCollection Providers { get; }" />
      <MemberSignature Language="ILAsm" Value=".property class System.Web.Security.RoleProviderCollection Providers" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Providers" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property Providers As RoleProviderCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::Web::Security::RoleProviderCollection ^ Providers { System::Web::Security::RoleProviderCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Providers : System.Web.Security.RoleProviderCollection" Usage="System.Web.Security.Roles.Providers" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.Security.RoleProviderCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Gets a collection of the role providers for the ASP.NET application.</summary>
        <value>一个<see cref="T:System.Web.Security.RoleProviderCollection" />，其中包含为 ASP.NET 应用程序配置的角色提供程序。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.Providers%2A>属性引用应用程序启用的所有角色提供程序，包括任何提供程序添加 Web.config 文件中。 您可以控制哪个角色提供程序是可供应用程序使用`providers`你的应用程序的 Web.config 文件中部分的元素。  
  
 下面的示例显示了一个部分，其中删除任何现有的提供程序 （例如那些 Machine.config 文件中指定），并添加<xref:System.Web.Security.SqlRoleProvider>与应用程序的角色提供程序的实例。  
  
```  
<configuration>  
  <connectionStrings>  
    <add name="SqlServices" connectionString="Data Source=MySqlServer;Integrated Security=SSPI;Initial Catalog=aspnetdb;" />  
  </connectionStrings>  
  
  <system.web>  
    <roleManager defaultProvider="SqlProvider"   
      enabled="true"  
      cacheRolesInCookie="true"  
      cookieName=".ASPROLES"  
      cookieTimeout="30"  
      cookiePath="/"  
      cookieRequireSSL="false"  
      cookieSlidingExpiration="true"  
      cookieProtection="Encrypted">  
  
      <providers>  
        <clear/>  
        <add  
          name="SqlProvider"  
          type="System.Web.Security.SqlRoleProvider"  
          connectionStringName="SqlServices"  
          applicationName="MyApplication" />  
         </providers>  
  
    </roleManager>  
  </system.web>  
</configuration>  
```  
  
 你可以获取从提供程序的强类型化的引用<xref:System.Web.Security.Roles.Providers%2A>通过按名称索引的角色提供程序并将其强制转换为所需的类型的集合。  
  
 可以获取对应用程序中使用的默认提供程序的引用<xref:System.Web.Security.Roles.Provider%2A>属性。  
  
   
  
## Examples  
 下面的代码示例列出了为应用程序和其各自的类型启用的提供程序。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#7](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/Providerscs.aspx#7)]
 [!code-aspx-vb[System.Web.Security.Roles#7](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/Providersvb.aspx#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="RemoveUserFromRole">
      <MemberSignature Language="C#" Value="public static void RemoveUserFromRole (string username, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUserFromRole(string username, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUserFromRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUserFromRole (username As String, roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUserFromRole(System::String ^ username, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member RemoveUserFromRole : string * string -&gt; unit" Usage="System.Web.Security.Roles.RemoveUserFromRole (username, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username">The user to remove from the specified role.</param>
        <param name="roleName">The role to remove the specified user from.</param>
        <summary>Removes the specified user from the specified role.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.RemoveUserFromRole%2A>方法调用来从数据源的指定角色中删除指定的用户的默认角色提供程序。  
  
   
  
## Examples  
 下面的代码示例从角色中删除用户。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.  -or-  <paramref name="username" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,)  <paramref name="username" /> is an empty string or contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="RemoveUserFromRoles">
      <MemberSignature Language="C#" Value="public static void RemoveUserFromRoles (string username, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUserFromRoles(string username, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUserFromRoles(System.String,System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUserFromRoles (username As String, roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUserFromRoles(System::String ^ username, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member RemoveUserFromRoles : string * string[] -&gt; unit" Usage="System.Web.Security.Roles.RemoveUserFromRoles (username, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="username">The user to remove from the specified roles.</param>
        <param name="roleNames">A string array of role names to remove the specified user from.</param>
        <summary>Removes the specified user from the specified roles.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.RemoveUserFromRoles%2A>方法调用来从数据源的指定角色中删除指定的用户的默认角色提供程序。  
  
 如果应用程序配置为使用<xref:System.Web.Security.SqlRoleProvider>类，在调用期间执行数据库更新<xref:System.Web.Security.Roles.RemoveUserFromRoles%2A>方法将在事务内完成。 如果遇到错误，例如不属于指定角色的用户名称，请在事务将回滚并不执行任何更新。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.RemoveUserFromRoles%2A>方法来从一个或多个角色中删除用户。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#10](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/RemoveUserFromRolescs.aspx#10)]
 [!code-aspx-vb[System.Web.Security.Roles#10](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/RemoveUserFromRolesvb.aspx#10)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">One of the roles in <paramref name="roleNames" /> is <see langword="null" />.  -or-  <paramref name="username" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">One of the roles in <paramref name="roleNames" /> is an empty string or contains a comma (,).  -or-  <paramref name="username" /> is an empty string or contains a comma (,).  -or-  <paramref name="roleNames" /> contains a duplicate element.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="RemoveUsersFromRole">
      <MemberSignature Language="C#" Value="public static void RemoveUsersFromRole (string[] usernames, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUsersFromRole(string[] usernames, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUsersFromRole(System.String[],System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUsersFromRole (usernames As String(), roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUsersFromRole(cli::array &lt;System::String ^&gt; ^ usernames, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member RemoveUsersFromRole : string[] * string -&gt; unit" Usage="System.Web.Security.Roles.RemoveUsersFromRole (usernames, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="usernames">A string array of user names to remove from the specified roles.</param>
        <param name="roleName">The name of the role to remove the specified users from.</param>
        <summary>Removes the specified users from the specified role.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.RemoveUsersFromRole%2A>方法调用来从数据源的指定角色中删除指定的用户的默认角色提供程序。  
  
 如果应用程序使用<xref:System.Web.Security.SqlRoleProvider>类，在调用期间执行数据库更新<xref:System.Web.Security.SqlRoleProvider.RemoveUsersFromRoles%2A>方法将在事务内完成。 如果遇到错误，例如不属于指定角色的用户名称，请在事务将回滚并不执行任何更新。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.RemoveUsersFromRole%2A>方法以从角色中删除一个或多个用户。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#9](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/RemoveUsersFromRolecs.aspx#9)]
 [!code-aspx-vb[System.Web.Security.Roles#9](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/RemoveUsersFromRolevb.aspx#9)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" />.  -or-  One of the user names in <paramref name="usernames" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).  -or-  One of the user names in <paramref name="usernames" /> is an empty string or contains a comma (,).  -or-  <paramref name="usernames" /> contains a duplicate element.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="RemoveUsersFromRoles">
      <MemberSignature Language="C#" Value="public static void RemoveUsersFromRoles (string[] usernames, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUsersFromRoles(string[] usernames, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUsersFromRoles(System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUsersFromRoles (usernames As String(), roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUsersFromRoles(cli::array &lt;System::String ^&gt; ^ usernames, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member RemoveUsersFromRoles : string[] * string[] -&gt; unit" Usage="System.Web.Security.Roles.RemoveUsersFromRoles (usernames, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="usernames">A string array of user names to remove from the specified roles.</param>
        <param name="roleNames">A string array of role names to remove the specified users from.</param>
        <summary>Removes the specified user names from the specified roles.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A>方法调用来从数据源的指定角色中删除指定的用户的默认角色提供程序。  
  
 如果应用程序使用<xref:System.Web.Security.SqlRoleProvider>类，在调用期间执行数据库更新<xref:System.Web.Security.SqlRoleProvider.RemoveUsersFromRoles%2A>方法将在事务内完成。 如果遇到错误，例如不属于指定角色的用户名称，请在事务将回滚并不执行任何更新。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A>方法来从一个或多个角色中删除一个或多个用户根据用户输入。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
 [!code-aspx-csharp[System.Web.Security.Roles#8](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/RemoveUsersFromRolescs.aspx#8)]
 [!code-aspx-vb[System.Web.Security.Roles#8](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/RemoveUsersFromRolesvb.aspx#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">One of the roles specified in <paramref name="roleNames" /> is <see langword="null" />.  -or-  One of the users specified in <paramref name="usernames" /> is <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">One of the roles specified in <paramref name="roleNames" /> is an empty string or contains a comma (,).  -or-  One of the users specified in <paramref name="usernames" /> is an empty string or contains a comma (,).  -or-  <paramref name="roleNames" /> contains a duplicate element.  -or-  <paramref name="usernames" /> contains a duplicate element.</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
    <Member MemberName="RoleExists">
      <MemberSignature Language="C#" Value="public static bool RoleExists (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool RoleExists(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RoleExists(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function RoleExists (roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool RoleExists(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member RoleExists : string -&gt; bool" Usage="System.Web.Security.Roles.RoleExists roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName">The name of the role to search for in the data source.</param>
        <summary>Gets a value indicating whether the specified role name already exists in the role data source.</summary>
        <returns>
          <see langword="true" /> if the role name already exists in the data source; otherwise, <see langword="false" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.Security.Roles.RoleExists%2A>方法调用`RoleExists`方法来确定角色名称是否存在该应用程序中指定的数据源中的默认角色提供程序<xref:System.Web.Security.Roles.ApplicationName%2A>属性。  
  
   
  
## Examples  
 下面的代码示例使用<xref:System.Web.Security.Roles.RoleExists%2A>方法来确定角色名称是否已存在之前创建该角色。 启用角色管理的 Web.config 文件的示例，请参阅<xref:System.Web.Security.Roles>。  
  
> [!IMPORTANT]
>  此示例包含一个文本框，用于接受用户输入，这是一个潜在的安全威胁。 默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。 有关详细信息，请参阅[脚本侵入概述](http://msdn.microsoft.com/library/772c7312-211a-4eb3-8d6e-eec0aa1dcc07)。  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <paramref name="roleName" /> is <see langword="null" /> (<see langword="Nothing" /> in Visual Basic).</exception>
        <exception cref="T:System.ArgumentException">
          <paramref name="roleName" /> is an empty string or contains a comma (,).</exception>
        <exception cref="T:System.Configuration.Provider.ProviderException">Role management is not enabled.</exception>
      </Docs>
    </Member>
  </Members>
</Type>