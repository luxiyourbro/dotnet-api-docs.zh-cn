<Type Name="ProfileServiceManager" FullName="System.Web.UI.ProfileServiceManager">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="5013b69a50e8eb8ecdd1c00d5c514d7cdeac2b4e" />
    <Meta Name="ms.sourcegitcommit" Value="0ec122ee5f3681159b8460ab15b409fd6e3d3ae0" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-CN" />
    <Meta Name="ms.lasthandoff" Value="10/04/2018" />
    <Meta Name="ms.locfileid" Value="48752753" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class ProfileServiceManager" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit ProfileServiceManager extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.ProfileServiceManager" />
  <TypeSignature Language="VB.NET" Value="Public Class ProfileServiceManager" />
  <TypeSignature Language="C++ CLI" Value="public ref class ProfileServiceManager" />
  <TypeSignature Language="F#" Value="type ProfileServiceManager = class" />
  <AssemblyInfo>
    <AssemblyName>System.Web.Extensions</AssemblyName>
    <AssemblyVersion>3.5.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.ComponentModel.DefaultProperty("Path")</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.ComponentModel.TypeConverter(typeof(System.Web.UI.EmptyStringExpandableObjectConverter))</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="173e3-101">配置一组预加载的配置文件属性和配置文件服务的自定义实现的位置。</span>
      <span class="sxs-lookup">
        <span data-stu-id="173e3-101">Configures a set of preloaded profile properties and the location of a custom implementation of the profile service.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="173e3-102"><xref:System.Web.UI.ProfileServiceManager>类对应于<xref:System.Web.UI.ScriptManager.ProfileService%2A>属性，可以添加到<xref:System.Web.UI.ScriptManager>或<xref:System.Web.UI.ScriptManagerProxy>控件。</span><span class="sxs-lookup"><span data-stu-id="173e3-102">The <xref:System.Web.UI.ProfileServiceManager> class corresponds to the <xref:System.Web.UI.ScriptManager.ProfileService%2A> property that can be added to the <xref:System.Web.UI.ScriptManager> or <xref:System.Web.UI.ScriptManagerProxy> control.</span></span>  
  
 <span data-ttu-id="173e3-103">可以使用<xref:System.Web.UI.ProfileServiceManager>指定一组将页面呈现，并将可供客户端脚本时预加载的配置文件属性。</span><span class="sxs-lookup"><span data-stu-id="173e3-103">You can use <xref:System.Web.UI.ProfileServiceManager> to specify a set of profile properties that will be preloaded when the page is rendered and will be available to client script.</span></span> <span data-ttu-id="173e3-104">此外，而不是使用内置的配置文件提供的 AJAX 功能的 ASP.NET Web 服务，你可以使用此类提供将用于加载或从脚本中将保存配置文件属性的 Web 服务的备用实现的路径。</span><span class="sxs-lookup"><span data-stu-id="173e3-104">Also, instead of using the built-in profile Web service provided by AJAX features of ASP.NET, you can use this class to provide the path of an alternative implementation of the Web service that will be used for loading or saving profile properties from script.</span></span>  
  
 <span data-ttu-id="173e3-105">若要在应用程序中使用配置文件服务，必须在配置文件中启用它。</span><span class="sxs-lookup"><span data-stu-id="173e3-105">To use the profile service in your application, you must enable it in the configuration file.</span></span> <span data-ttu-id="173e3-106">如果使用内置的配置文件 Web 服务并不需要预加载属性，您无需在页面上显式声明该配置文件服务管理器。</span><span class="sxs-lookup"><span data-stu-id="173e3-106">If you use the built-in profile Web service and do not have to preload properties, you do not have to explicitly declare the profile service manager on the page.</span></span>  
  
 <span data-ttu-id="173e3-107">若要以声明方式指定一组预加载的属性或自定义配置文件 Web 服务，包括`<ProfileService>`元素内的`<asp:ScriptManager>`元素在页面上，如下面的示例中所示。</span><span class="sxs-lookup"><span data-stu-id="173e3-107">To declaratively specify a set of preloaded properties, or a custom profile Web service, include a `<ProfileService>` element inside the `<asp:ScriptManager>` element on the page, as shown in the following example.</span></span>  
  
```  
<asp:ScriptManager ID="SM1" runat="server">  
  <ProfileService LoadProperties="propertyA,propertyB" Path="MyProfileService.asmx" />  
</asp:ScriptManager>  
```  
  
 <span data-ttu-id="173e3-108">以编程方式还可以配置为预加载属性，或使用自定义配置文件 Web 服务的配置文件服务。</span><span class="sxs-lookup"><span data-stu-id="173e3-108">You can also programmatically configure the profile service to preload properties or to use a custom profile Web service.</span></span>  
  
 <span data-ttu-id="173e3-109">下面的示例演示必须在自定义配置文件 Web 服务中实现基本的类结构。</span><span class="sxs-lookup"><span data-stu-id="173e3-109">The following example shows the basic class structure that must be implemented in a custom profile Web service.</span></span>  
  
  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Web.Configuration.ScriptingProfileServiceSection" />
    <related type="Article" href="http://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61">
      <span data-ttu-id="173e3-110">使用 ASP.NET AJAX 使用配置文件信息</span>
      <span class="sxs-lookup">
        <span data-stu-id="173e3-110">Using Profile Information with ASP.NET AJAX</span>
      </span>
    </related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ProfileServiceManager ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.ProfileServiceManager.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ProfileServiceManager();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="173e3-111">初始化 <see cref="T:System.Web.UI.ProfileServiceManager" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-111">Initializes a new instance of the <see cref="T:System.Web.UI.ProfileServiceManager" /> class.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadProperties">
      <MemberSignature Language="C#" Value="public string[] LoadProperties { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string[] LoadProperties" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.ProfileServiceManager.LoadProperties" />
      <MemberSignature Language="VB.NET" Value="Public Property LoadProperties As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property cli::array &lt;System::String ^&gt; ^ LoadProperties { cli::array &lt;System::String ^&gt; ^ get(); void set(cli::array &lt;System::String ^&gt; ^ value); };" />
      <MemberSignature Language="F#" Value="member this.LoadProperties : string[] with get, set" Usage="System.Web.UI.ProfileServiceManager.LoadProperties" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.Category("Behavior")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue(null)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.NotifyParentProperty(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.TypeConverter(typeof(System.Web.UI.WebControls.StringArrayConverter))</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="173e3-112">获取或设置一个数组，其中包含可用于客户端脚本的配置文件属性。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-112">Gets or sets an array that contains the profile properties that will be made available to client script.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="173e3-113">一个字符串数组，其中包含将预加载并将提供给客户端脚本使用的配置文件属性的名称。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-113">A string array that contains the names of the profile properties that will be preloaded and made available to client script.</span>
          </span>
          <span data-ttu-id="173e3-114">默认为空数组。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-114">The default is an empty array.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="173e3-115">如果<xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A>包含至少一个字符串，它对应于配置文件属性的名称，然后在 Web 应用程序中内置的配置文件服务为每个指定的配置文件属性检索当前用户的配置文件数据。</span><span class="sxs-lookup"><span data-stu-id="173e3-115">If <xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A> contains at least one string that corresponds to the name of a profile property, then the built-in profile service in the Web application retrieves the current user's profile data for each of the specified profile properties.</span></span> <span data-ttu-id="173e3-116">配置文件属性值进行序列化和之后，可用于通过客户端脚本[属性字段](http://msdn.microsoft.com/library/ebce3c40-7017-482b-94df-91f7448fda05)集合。</span><span class="sxs-lookup"><span data-stu-id="173e3-116">The profile property values are serialized and then made available to client script through the [properties Field](http://msdn.microsoft.com/library/ebce3c40-7017-482b-94df-91f7448fda05) collection.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="173e3-117">若要以声明方式设置此属性，使用逗号分隔的属性名称列表。</span><span class="sxs-lookup"><span data-stu-id="173e3-117">To set this property declaratively, use a comma-separated list of property names.</span></span> <span data-ttu-id="173e3-118">对于分组的属性值，请使用语法*GroupName*。*PropertyName*。</span><span class="sxs-lookup"><span data-stu-id="173e3-118">For grouped property values, use the syntax *GroupName*.*PropertyName*.</span></span>  
  
 <span data-ttu-id="173e3-119">当<xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A>是一个空数组，没有预加载数据的配置文件。</span><span class="sxs-lookup"><span data-stu-id="173e3-119">When <xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A> is an empty array, no profile data is preloaded.</span></span>  
  
 <span data-ttu-id="173e3-120"><xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A>属性可以指定在<xref:System.Web.UI.ScriptManager>控制或关联<xref:System.Web.UI.ScriptManagerProxy>控件。</span><span class="sxs-lookup"><span data-stu-id="173e3-120">The <xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A> property can be specified in the <xref:System.Web.UI.ScriptManager> control or in an associated <xref:System.Web.UI.ScriptManagerProxy> control.</span></span> <span data-ttu-id="173e3-121">当<xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A>上都设置<xref:System.Web.UI.ScriptManager>控件和一个或多个<xref:System.Web.UI.ScriptManagerProxy>通过合并所有指定的属性来确定控件的属性集。</span><span class="sxs-lookup"><span data-stu-id="173e3-121">When <xref:System.Web.UI.ProfileServiceManager.LoadProperties%2A> is set on both the <xref:System.Web.UI.ScriptManager> control and on one or more <xref:System.Web.UI.ScriptManagerProxy> controls, the set of properties is determined by merging all the specified properties.</span></span> <span data-ttu-id="173e3-122">将忽略重复的属性。</span><span class="sxs-lookup"><span data-stu-id="173e3-122">Duplicate properties are ignored.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="173e3-123">
            <see cref="P:System.Web.UI.ProfileServiceManager.LoadProperties" /> 属性包含当前应用程序的配置文件架构中不存在的属性名。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-123">The <see cref="P:System.Web.UI.ProfileServiceManager.LoadProperties" /> property includes property names that are not in the current application’s profile schema.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Path">
      <MemberSignature Language="C#" Value="public string Path { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Path" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.ProfileServiceManager.Path" />
      <MemberSignature Language="VB.NET" Value="Public Property Path As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Path { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Path : string with get, set" Usage="System.Web.UI.ProfileServiceManager.Path" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.Category("Behavior")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue("")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.NotifyParentProperty(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Web.UI.UrlProperty</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="173e3-124">获取或设置配置文件 Web 服务的自定义实现的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-124">Gets or sets the path of a custom implementation of the profile Web service.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="173e3-125">配置文件 Web 服务的自定义实现的路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-125">The path of a custom implementation of the profile Web service.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="173e3-126">允许使用相对虚拟路径、 绝对虚拟路径和完全限定路径。</span><span class="sxs-lookup"><span data-stu-id="173e3-126">Relative virtual paths, absolute virtual paths, and fully-qualified paths are allowed.</span></span>  
  
 <span data-ttu-id="173e3-127">如果<xref:System.Web.UI.ProfileServiceManager.Path%2A>未设置属性，则返回值为<xref:System.String.Empty>。</span><span class="sxs-lookup"><span data-stu-id="173e3-127">If the <xref:System.Web.UI.ProfileServiceManager.Path%2A> property is not set, the return value is <xref:System.String.Empty>.</span></span> <span data-ttu-id="173e3-128">在这种情况下，ASP.NET 的 AJAX 功能然后将使用内置的配置文件对应于以下的内部默认路径的 Web 服务: ~ / ScriptServices_ProfileService.asmx。</span><span class="sxs-lookup"><span data-stu-id="173e3-128">In this case, the AJAX features of ASP.NET will then use the built-in profile Web service that corresponds to the following internal default path: ~/ScriptServices_ProfileService.asmx.</span></span> <span data-ttu-id="173e3-129">如果您设置，会发生相同的行为<xref:System.Web.UI.ProfileServiceManager.Path%2A>为空值或`null`。</span><span class="sxs-lookup"><span data-stu-id="173e3-129">The same behavior occurs if you set <xref:System.Web.UI.ProfileServiceManager.Path%2A> to be an empty value or `null`.</span></span>  
  
 <span data-ttu-id="173e3-130"><xref:System.Web.UI.ProfileServiceManager.Path%2A> 可以在中指定<xref:System.Web.UI.ScriptManager>控件或关联<xref:System.Web.UI.ScriptManagerProxy>控件。</span><span class="sxs-lookup"><span data-stu-id="173e3-130"><xref:System.Web.UI.ProfileServiceManager.Path%2A> can be specified in the <xref:System.Web.UI.ScriptManager> control or in an associated <xref:System.Web.UI.ScriptManagerProxy> control.</span></span> <span data-ttu-id="173e3-131">当<xref:System.Web.UI.ProfileServiceManager.Path%2A>设置为<xref:System.Web.UI.ScriptManagerProxy>级别，请注意以下事项：</span><span class="sxs-lookup"><span data-stu-id="173e3-131">When <xref:System.Web.UI.ProfileServiceManager.Path%2A> is set at the <xref:System.Web.UI.ScriptManagerProxy> level, the following caveats apply:</span></span>  
  
-   <span data-ttu-id="173e3-132">如果控件层次结构中有多个代理<xref:System.Web.UI.ProfileServiceManager.Path%2A>无需在每个代理实例上设置。</span><span class="sxs-lookup"><span data-stu-id="173e3-132">If there are multiple proxies in the control hierarchy, <xref:System.Web.UI.ProfileServiceManager.Path%2A> does not have to be set on each proxy instance.</span></span>  
  
-   <span data-ttu-id="173e3-133">如果<xref:System.Web.UI.ProfileServiceManager.Path%2A>显式设置代理实例上，值必须是相同的显式设置此属性的所有其他代理。</span><span class="sxs-lookup"><span data-stu-id="173e3-133">If <xref:System.Web.UI.ProfileServiceManager.Path%2A> is explicitly set on a proxy instance, the value must be the same for all other proxies on which this property is explicitly set.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="173e3-134">在控件层次结构中设置了多个唯一路径。</span>
          <span class="sxs-lookup">
            <span data-stu-id="173e3-134">More than one unique path was set in the control hierarchy.</span>
          </span>
        </exception>
      </Docs>
    </Member>
  </Members>
</Type>