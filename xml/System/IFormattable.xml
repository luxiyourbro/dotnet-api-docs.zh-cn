<Type Name="IFormattable" FullName="System.IFormattable">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="cda42210ed442bf30f4dea80139a23c9ca54a766" />
    <Meta Name="ms.sourcegitcommit" Value="434f60616a9793fa8436744549fc856e94f7a648" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-CN" />
    <Meta Name="ms.lasthandoff" Value="08/25/2018" />
    <Meta Name="ms.locfileid" Value="39943678" />
  </Metadata>
  <TypeSignature Language="C#" Value="public interface IFormattable" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IFormattable" />
  <TypeSignature Language="DocId" Value="T:System.IFormattable" />
  <TypeSignature Language="VB.NET" Value="Public Interface IFormattable" />
  <TypeSignature Language="C++ CLI" Value="public interface class IFormattable" />
  <TypeSignature Language="F#" Value="type IFormattable = interface" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="45164-101">提供一种功能，用以将对象的值格式化为字符串表示形式。</span>
      <span class="sxs-lookup">
        <span data-stu-id="45164-101">Provides functionality to format the value of an object into a string representation.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="45164-102"><xref:System.IFormattable>接口将对象转换为基于格式字符串和格式提供程序其字符串表示形式。</span><span class="sxs-lookup"><span data-stu-id="45164-102">The <xref:System.IFormattable> interface converts an object to its string representation based on a format string and a format provider.</span></span>  
  
 <span data-ttu-id="45164-103">格式字符串通常定义一个对象的常规外观。</span><span class="sxs-lookup"><span data-stu-id="45164-103">A format string typically defines the general appearance of an object.</span></span> <span data-ttu-id="45164-104">例如，.NET Framework 支持以下功能：</span><span class="sxs-lookup"><span data-stu-id="45164-104">For example, the .NET Framework supports the following:</span></span>  
  
-   <span data-ttu-id="45164-105">用于枚举值的格式的标准格式字符串 (请参阅[枚举格式字符串](~/docs/standard/base-types/enumeration-format-strings.md))。</span><span class="sxs-lookup"><span data-stu-id="45164-105">Standard format strings for formatting enumeration values (see [Enumeration Format Strings](~/docs/standard/base-types/enumeration-format-strings.md)).</span></span>  
  
-   <span data-ttu-id="45164-106">用于格式化数值的标准和自定义格式字符串 (请参阅[标准数字格式字符串](~/docs/standard/base-types/standard-numeric-format-strings.md)并[自定义数字格式字符串](~/docs/standard/base-types/custom-numeric-format-strings.md))。</span><span class="sxs-lookup"><span data-stu-id="45164-106">Standard and custom format strings for formatting numeric values (see [Standard Numeric Format Strings](~/docs/standard/base-types/standard-numeric-format-strings.md) and [Custom Numeric Format Strings](~/docs/standard/base-types/custom-numeric-format-strings.md)).</span></span>  
  
-   <span data-ttu-id="45164-107">用于格式化日期和时间值的标准和自定义格式字符串 (请参阅[标准日期和时间格式字符串](~/docs/standard/base-types/standard-date-and-time-format-strings.md)并[自定义日期和时间格式字符串](~/docs/standard/base-types/custom-date-and-time-format-strings.md))。</span><span class="sxs-lookup"><span data-stu-id="45164-107">Standard and custom format strings for formatting date and time values (see [Standard Date and Time Format Strings](~/docs/standard/base-types/standard-date-and-time-format-strings.md) and [Custom Date and Time Format Strings](~/docs/standard/base-types/custom-date-and-time-format-strings.md)).</span></span>  
  
-   <span data-ttu-id="45164-108">时间间隔格式设置的标准和自定义格式字符串 (请参阅[标准 TimeSpan 格式字符串](~/docs/standard/base-types/standard-timespan-format-strings.md)并[自定义 TimeSpan 格式字符串](~/docs/standard/base-types/custom-timespan-format-strings.md))。</span><span class="sxs-lookup"><span data-stu-id="45164-108">Standard and custom format strings for formatting time intervals (see [Standard TimeSpan Format Strings](~/docs/standard/base-types/standard-timespan-format-strings.md) and [Custom TimeSpan Format Strings](~/docs/standard/base-types/custom-timespan-format-strings.md)).</span></span>  
  
 <span data-ttu-id="45164-109">此外可以定义自己的格式字符串以支持您应用程序定义的类型的格式设置。</span><span class="sxs-lookup"><span data-stu-id="45164-109">You can also define your own format strings to support formatting of your application-defined types.</span></span>  
  
 <span data-ttu-id="45164-110">格式提供程序返回通常在将对象转换为其字符串表示形式中，定义使用的符号的格式设置对象。</span><span class="sxs-lookup"><span data-stu-id="45164-110">A format provider returns a formatting object that typically defines the symbols used in converting an object to its string representation.</span></span> <span data-ttu-id="45164-111">例如，当将数字转换为货币值，格式提供程序定义显示的货币符号结果字符串中。</span><span class="sxs-lookup"><span data-stu-id="45164-111">For example, when you convert a number to a currency value, a format provider defines the currency symbol that appears in the result string.</span></span> <span data-ttu-id="45164-112">.NET Framework 定义了三种格式提供程序：</span><span class="sxs-lookup"><span data-stu-id="45164-112">The .NET Framework defines three format providers:</span></span>  
  
-   <span data-ttu-id="45164-113"><xref:System.Globalization.CultureInfo?displayProperty=nameWithType>类，该类返回<xref:System.Globalization.NumberFormatInfo>用于数字值的格式的对象或<xref:System.Globalization.DateTimeFormatInfo>格式化日期和时间值的对象。</span><span class="sxs-lookup"><span data-stu-id="45164-113">The <xref:System.Globalization.CultureInfo?displayProperty=nameWithType> class, which returns either a <xref:System.Globalization.NumberFormatInfo> object for formatting numeric values, or a <xref:System.Globalization.DateTimeFormatInfo> object for formatting date and time values.</span></span>  
  
-   <span data-ttu-id="45164-114"><xref:System.Globalization.NumberFormatInfo?displayProperty=nameWithType>类，该类返回自身的实例用于数字值的格式。</span><span class="sxs-lookup"><span data-stu-id="45164-114">The <xref:System.Globalization.NumberFormatInfo?displayProperty=nameWithType> class, which returns an instance of itself for formatting numeric values.</span></span>  
  
-   <span data-ttu-id="45164-115"><xref:System.Globalization.DateTimeFormatInfo?displayProperty=nameWithType>类，该类返回自身的实例用于日期和时间值的格式。</span><span class="sxs-lookup"><span data-stu-id="45164-115">The <xref:System.Globalization.DateTimeFormatInfo?displayProperty=nameWithType> class, which returns an instance of itself for formatting date and time values.</span></span>  
  
 <span data-ttu-id="45164-116">此外，可以定义自己的自定义格式提供程序提供特定于区域性的、 特定于行业的或特定于行业的信息设置格式时使用。</span><span class="sxs-lookup"><span data-stu-id="45164-116">In addition, you can define your own custom format providers to supply culture-specific, profession-specific, or industry-specific information used in formatting.</span></span> <span data-ttu-id="45164-117">有关实现通过使用自定义格式提供程序自定义格式设置的详细信息，请参阅<xref:System.ICustomFormatter>。</span><span class="sxs-lookup"><span data-stu-id="45164-117">For more information about implementing custom formatting by using a custom format provider, see <xref:System.ICustomFormatter>.</span></span>  
  
 <span data-ttu-id="45164-118"><xref:System.IFormattable>接口定义一个方法， <xref:System.IFormattable.ToString%2A>，，它提供的实现类型的格式设置服务。</span><span class="sxs-lookup"><span data-stu-id="45164-118">The <xref:System.IFormattable> interface defines a single method, <xref:System.IFormattable.ToString%2A>, that supplies formatting services for the implementing type.</span></span> <span data-ttu-id="45164-119"><xref:System.IFormattable.ToString%2A>可以直接调用方法。</span><span class="sxs-lookup"><span data-stu-id="45164-119">The <xref:System.IFormattable.ToString%2A> method can be called directly.</span></span> <span data-ttu-id="45164-120">此外，它自动调用<xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType>并<xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType>方法，并通过使用方法[复合格式设置功能](~/docs/standard/base-types/composite-formatting.md).NET Framework 中。</span><span class="sxs-lookup"><span data-stu-id="45164-120">In addition, it is called automatically by the <xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType> and <xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType> methods, and by methods that use the [composite formatting feature](~/docs/standard/base-types/composite-formatting.md) in the .NET Framework.</span></span> <span data-ttu-id="45164-121">此类方法包括<xref:System.Console.WriteLine%28System.String%2CSystem.Object%29?displayProperty=nameWithType>， <xref:System.String.Format%2A?displayProperty=nameWithType>，和<xref:System.Text.StringBuilder.AppendFormat%28System.String%2CSystem.Object%29?displayProperty=nameWithType>，等等。</span><span class="sxs-lookup"><span data-stu-id="45164-121">Such methods include <xref:System.Console.WriteLine%28System.String%2CSystem.Object%29?displayProperty=nameWithType>, <xref:System.String.Format%2A?displayProperty=nameWithType>, and <xref:System.Text.StringBuilder.AppendFormat%28System.String%2CSystem.Object%29?displayProperty=nameWithType>, among others.</span></span> <span data-ttu-id="45164-122"><xref:System.IFormattable.ToString%2A>方法调用的方法的格式字符串中每个格式项。</span><span class="sxs-lookup"><span data-stu-id="45164-122">The <xref:System.IFormattable.ToString%2A> method is called for each format item in the method's format string.</span></span>  
  
 <span data-ttu-id="45164-123"><xref:System.IFormattable>接口实现的基本数据类型。</span><span class="sxs-lookup"><span data-stu-id="45164-123">The <xref:System.IFormattable> interface is implemented by the base data types.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="45164-124">下面的示例定义一个实现 `Temperature` 接口的 <xref:System.IFormattable> 类。</span><span class="sxs-lookup"><span data-stu-id="45164-124">The following example defines a `Temperature` class that implements the <xref:System.IFormattable> interface.</span></span> <span data-ttu-id="45164-125">类支持四个格式说明符:"G"和"C"，指示要显示在摄氏度; 温度"F"，指示要在中华氏度; 显示温度和"K"，指示要在中 Kelvin 显示温度。</span><span class="sxs-lookup"><span data-stu-id="45164-125">The class supports four format specifiers: "G" and "C", which indicate that the temperature is to be displayed in Celsius; "F", which indicates that the temperature is to be displayed in Fahrenheit; and "K", which indicates that the temperature is to be displayed in Kelvin.</span></span> <span data-ttu-id="45164-126">此外，<xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>实现还可以处理是一个格式字符串`null`或为空。</span><span class="sxs-lookup"><span data-stu-id="45164-126">In addition, the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation also can handle a format string that is `null` or empty.</span></span> <span data-ttu-id="45164-127">其他两个`ToString`定义的方法`Temperature`类只包装调用<xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>实现。</span><span class="sxs-lookup"><span data-stu-id="45164-127">The other two `ToString` methods defined by the `Temperature` class simply wrap a call to the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation.</span></span>  
  
 [!code-csharp[System.IFormattable#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.iformattable/cs/example1.cs#1)]
 [!code-vb[System.IFormattable#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.iformattable/vb/example1.vb#1)]  
  
 <span data-ttu-id="45164-128">下面的示例然后调用<xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>实现直接或通过使用复合格式字符串。</span><span class="sxs-lookup"><span data-stu-id="45164-128">The following example then calls the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation either directly or by using a composite format string.</span></span>  
  
 [!code-csharp[System.IFormattable#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.iformattable/cs/example1.cs#2)]
 [!code-vb[System.IFormattable#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.iformattable/vb/example1.vb#2)]  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides">
      <span data-ttu-id="45164-129">
        <para>需要更好地控制字符串相比的格式设置的类中<see cref="M:System.Object.ToString" />提供了应实现<see cref="T:System.IFormattable" />。实现的类<see cref="T:System.IFormattable" />必须支持"G"（常规） 格式说明符。除了"G"说明符，类可以定义它支持的格式说明符的列表。此外，类必须准备好处理是一个格式说明符<see langword="null" />。有关格式设置和格式设置代码的详细信息，请参阅[格式设置类型](~/docs/standard/base-types/formatting-types.md)</para>
      </span>
      <span class="sxs-lookup">
        <span data-stu-id="45164-129">
          <para>Classes that require more control over the formatting of strings than <see cref="M:System.Object.ToString" /> provides should implement <see cref="T:System.IFormattable" />.  A class that implements <see cref="T:System.IFormattable" /> must support the "G" (general) format specifier. Besides the "G" specifier, the class can define the list of format specifiers that it supports. In addition, the class must be prepared to handle a format specifier that is <see langword="null" />. For more information about formatting and formatting codes, see [Formatting Types](~/docs/standard/base-types/formatting-types.md)</para>
        </span>
      </span>
    </block>
    <altmember cref="T:System.IFormatProvider" />
    <altmember cref="M:System.Object.ToString" />
    <altmember cref="P:System.Threading.Thread.CurrentCulture" />
  </Docs>
  <Members>
    <Member MemberName="ToString">
      <MemberSignature Language="C#" Value="public string ToString (string format, IFormatProvider formatProvider);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string ToString(string format, class System.IFormatProvider formatProvider) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IFormattable.ToString(System.String,System.IFormatProvider)" />
      <MemberSignature Language="VB.NET" Value="Public Function ToString (format As String, formatProvider As IFormatProvider) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ ToString(System::String ^ format, IFormatProvider ^ formatProvider);" />
      <MemberSignature Language="F#" Value="abstract member ToString : string * IFormatProvider -&gt; string" Usage="iFormattable.ToString (format, formatProvider)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="format" Type="System.String" />
        <Parameter Name="formatProvider" Type="System.IFormatProvider" />
      </Parameters>
      <Docs>
        <param name="format">
          <span data-ttu-id="45164-130">要使用的格式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-130">The format to use.</span>
          </span>
          <span data-ttu-id="45164-131">或</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-131">-or-</span>
          </span>
          <span data-ttu-id="45164-132">null 引用（Visual Basic 中为 <see langword="Nothing" />）将使用为 <see cref="T:System.IFormattable" /> 实现的类型所定义的默认格式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-132">A null reference (<see langword="Nothing" /> in Visual Basic) to use the default format defined for the type of the <see cref="T:System.IFormattable" /> implementation.</span>
          </span>
        </param>
        <param name="formatProvider">
          <span data-ttu-id="45164-133">要用于对值设置格式的提供程序。</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-133">The provider to use to format the value.</span>
          </span>
          <span data-ttu-id="45164-134">或</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-134">-or-</span>
          </span>
          <span data-ttu-id="45164-135">null 引用（Visual Basic 中为 <see langword="Nothing" />）将从操作系统的当前区域设置中获取数字格式信息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-135">A null reference (<see langword="Nothing" /> in Visual Basic) to obtain the numeric format information from the current locale setting of the operating system.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="45164-136">使用指定格式对当前实例的值设置格式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-136">Formats the value of the current instance using the specified format.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="45164-137">采用指定格式的当前实例的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-137">The value of the current instance in the specified format.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="45164-138"><xref:System.IFormattable.ToString%2A>方法将值转换为可以通过多种方式表示的字符串表示形式。</span><span class="sxs-lookup"><span data-stu-id="45164-138">The <xref:System.IFormattable.ToString%2A> method converts a value to a string representation that can be expressed in multiple ways.</span></span> <span data-ttu-id="45164-139">其确切格式取决于特定符号或指定的顺序由特定区域性、 专业或行业定义。</span><span class="sxs-lookup"><span data-stu-id="45164-139">Its precise format depends on specific symbols or a specified order defined by specific cultures, professions, or industries.</span></span> <span data-ttu-id="45164-140">可以直接调用该方法。</span><span class="sxs-lookup"><span data-stu-id="45164-140">You can call the method directly.</span></span> <span data-ttu-id="45164-141">此外会自动调用<xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType>并<xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType>方法，并通过方法，使用复合格式功能在.NET Framework 中，如<xref:System.String.Format%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>， <xref:System.Console.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>，和<xref:System.Text.StringBuilder.AppendFormat%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="45164-141">It is also called automatically by the <xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType> and <xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType> methods, and by methods that use the composite formatting feature in the .NET Framework, such as <xref:System.String.Format%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, <xref:System.Console.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, and <xref:System.Text.StringBuilder.AppendFormat%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>.</span></span> <span data-ttu-id="45164-142">(有关详细信息，请参阅[复合格式设置](~/docs/standard/base-types/composite-formatting.md)。)</span><span class="sxs-lookup"><span data-stu-id="45164-142">(For more information, see [Composite Formatting](~/docs/standard/base-types/composite-formatting.md).)</span></span>  
  
 <span data-ttu-id="45164-143">复合格式设置方法调用<xref:System.IFormattable.ToString%2A>方法一次的格式字符串中每个格式项。</span><span class="sxs-lookup"><span data-stu-id="45164-143">Composite formatting methods call the <xref:System.IFormattable.ToString%2A> method once for each format item in a format string.</span></span> <span data-ttu-id="45164-144">传递给方法的参数，如下所示调用的特定格式设置方法和格式项的内容取决于：</span><span class="sxs-lookup"><span data-stu-id="45164-144">The parameters passed to the method depend on the specific formatting method that is called and on the content of the format item, as follows:</span></span>  
  
-   <span data-ttu-id="45164-145">如果格式项不包含格式字符串 (例如，如果格式项是只需`{0}`)，它传递`null`的值作为<xref:System.String?displayProperty=nameWithType>参数。</span><span class="sxs-lookup"><span data-stu-id="45164-145">If the format item does not include a format string (for example, if the format item is simply `{0}`), it is passed `null` as the value of the <xref:System.String?displayProperty=nameWithType> parameter.</span></span>  
  
-   <span data-ttu-id="45164-146">如果格式项包含一个格式字符串 (例如， `{0:G}`)，格式字符串传递的值作为<xref:System.String?displayProperty=nameWithType>参数。</span><span class="sxs-lookup"><span data-stu-id="45164-146">If the format item includes a format string (for example, `{0:G}`), that format string is passed as the value of the <xref:System.String?displayProperty=nameWithType> parameter.</span></span>  
  
-   <span data-ttu-id="45164-147">如果原始的方法调用不包括<xref:System.IFormatProvider?displayProperty=nameWithType>参数，<xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType>的值作为传递<xref:System.IFormatProvider?displayProperty=nameWithType>参数。</span><span class="sxs-lookup"><span data-stu-id="45164-147">If the original method call does not include an <xref:System.IFormatProvider?displayProperty=nameWithType> parameter, <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> is passed as the value of the <xref:System.IFormatProvider?displayProperty=nameWithType> parameter.</span></span>  
  
-   <span data-ttu-id="45164-148">如果原始的方法调用包括<xref:System.IFormatProvider?displayProperty=nameWithType>方法调用中提供的提供程序传递的值作为参数，<xref:System.IFormatProvider?displayProperty=nameWithType>参数。</span><span class="sxs-lookup"><span data-stu-id="45164-148">If the original method call includes an <xref:System.IFormatProvider?displayProperty=nameWithType> parameter, the provider that is supplied in the method call is passed as the value of the <xref:System.IFormatProvider?displayProperty=nameWithType> parameter.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="45164-149">对象的<xref:System.IFormattable.ToString%2A>实现称为复合格式设置方法，仅当不传递<xref:System.ICustomFormatter>格式提供程序，或者如果<xref:System.ICustomFormatter.Format%2A>方法的自定义格式提供程序返回`null`。</span><span class="sxs-lookup"><span data-stu-id="45164-149">An object's <xref:System.IFormattable.ToString%2A> implementation is called by composite formatting methods only if they are not passed an <xref:System.ICustomFormatter> format provider, or if the <xref:System.ICustomFormatter.Format%2A> method of the custom format provider returns `null`.</span></span>  
  
 <span data-ttu-id="45164-150">.NET Framework 包括三种格式提供程序，所有这些实现<xref:System.IFormatProvider>接口：</span><span class="sxs-lookup"><span data-stu-id="45164-150">The .NET Framework includes three format providers, all of which implement the <xref:System.IFormatProvider> interface:</span></span>  
  
-   <span data-ttu-id="45164-151"><xref:System.Globalization.NumberFormatInfo> 提供数字格式设置信息，如用于小数和组分隔符字符以及拼写和货币值中的货币符号的位置。</span><span class="sxs-lookup"><span data-stu-id="45164-151"><xref:System.Globalization.NumberFormatInfo> supplies numeric formatting information, such as the characters to use for decimal and group separators, and the spelling and placement of currency symbols in monetary values.</span></span>  
  
-   <span data-ttu-id="45164-152"><xref:System.Globalization.DateTimeFormatInfo> 提供与日期相关以及与时间相关的格式设置信息，例如月、 日和年日期模式中的位置。</span><span class="sxs-lookup"><span data-stu-id="45164-152"><xref:System.Globalization.DateTimeFormatInfo> supplies date-related and time-related formatting information, such as the position of the month, the day, and the year in a date pattern.</span></span>  
  
-   <span data-ttu-id="45164-153"><xref:System.Globalization.CultureInfo> 包含默认格式设置信息中特定区域性，包括数字格式信息和与日期相关、 与时间相关的格式信息。</span><span class="sxs-lookup"><span data-stu-id="45164-153"><xref:System.Globalization.CultureInfo> contains the default formatting information in a specific culture, including the numeric format information, and date-related and time-related formatting information.</span></span>  
  
 <span data-ttu-id="45164-154">此外，可以定义自己的自定义格式提供程序。</span><span class="sxs-lookup"><span data-stu-id="45164-154">In addition, you can define your own custom format provider.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="45164-155">下面的示例演示`Temperature`类，该类实现<xref:System.IFormattable.ToString%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="45164-155">The following example demonstrates a `Temperature` class that implements the <xref:System.IFormattable.ToString%2A> method.</span></span> <span data-ttu-id="45164-156">此代码示例是为提供一个更大示例的一部分<xref:System.IFormattable>类。</span><span class="sxs-lookup"><span data-stu-id="45164-156">This code example is part of a larger example provided for the <xref:System.IFormattable> class.</span></span>  
  
 [!code-csharp[System.IFormattable#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.iformattable/cs/example1.cs#1)]
 [!code-vb[System.IFormattable#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.iformattable/vb/example1.vb#1)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides">
          <span data-ttu-id="45164-157">
            <para>
              <see cref="M:System.IFormattable.ToString(System.String,System.IFormatProvider)" />方法必须支持"G"（常规） 格式说明符。除了"G"说明符，类可以定义它支持的格式说明符的列表。此外，类必须准备好处理是一个格式说明符<see langword="null" />。有关格式设置和格式设置代码的详细信息，请参阅[格式设置类型](~/docs/standard/base-types/formatting-types.md)。</para>
          </span>
          <span class="sxs-lookup">
            <span data-stu-id="45164-157">
              <para>The <see cref="M:System.IFormattable.ToString(System.String,System.IFormatProvider)" /> method must support the "G" (general) format specifier. Besides the "G" specifier, the class can define the list of format specifiers that it supports. In addition, the class must be prepared to handle a format specifier that is <see langword="null" />. For more information about formatting and formatting codes, see [Formatting Types](~/docs/standard/base-types/formatting-types.md).</para>
            </span>
          </span>
        </block>
        <altmember cref="T:System.String" />
        <altmember cref="T:System.IFormatProvider" />
        <altmember cref="T:System.Globalization.NumberFormatInfo" />
        <altmember cref="T:System.Globalization.DateTimeFormatInfo" />
        <altmember cref="T:System.Globalization.CultureInfo" />
      </Docs>
    </Member>
  </Members>
</Type>